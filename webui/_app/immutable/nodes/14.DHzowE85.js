import{s as pt,E as yl,F as Dl,a as m,d as c,f as u,i as F,g as n,n as We,y as Ae,A as Se,p as zt,j as bt,B as ts,q as Vl,e as d,t as W,k as E,c as _,b as Y,o as y,N as ft,T as Il,C as Fe,u as Ee,z as Us,h as X,H as Kt,l as hl,Q as ls,R as Ps,P as Hs,O as ns}from"../chunks/scheduler.CHqjxavM.js";import{S as kt,i as $t,f as Be,b as ae,d as ne,m as oe,t as T,a as L,e as ie,g as Pe,c as He}from"../chunks/index.Cjx-5OY6.js";import{t as ot}from"../chunks/Toaster.svelte_svelte_type_style_lang.NefCtMfx.js";import{g as Ls}from"../chunks/entry.BeaNDCfp.js";import{e as jl,u as ss,c as zs}from"../chunks/index.H8ql2Fza.js";import{u as js,a as Gs,b as _l,p as Os,c as Rs,d as Zs,e as os,f as qs}from"../chunks/index.Bfktbsyn.js";import{e as ml,u as Ws,o as Ys}from"../chunks/each.CCRIbD_e.js";import{d as St,r as Ms}from"../chunks/relativeTime.BDz4fsXT.js";import{l as rs}from"../chunks/index.Bl8AKUxi.js";import{P as Fs}from"../chunks/Pagination.C19YVogs.js";import{T as pl}from"../chunks/Tooltip.Ckuvvm8c.js";import{M as Gl}from"../chunks/Modal.BTvzYrvL.js";import{i as is,j as Ks}from"../chunks/index.DW-BGSg-.js";import{S as Qs}from"../chunks/Spinner.BnJ9ysqs.js";import{c as us}from"../chunks/index.8E7WUR80.js";import{C as Js}from"../chunks/ConfirmDialog.BkASNw-x.js";import{B as es}from"../chunks/Badge.CU1X267a.js";import{P as As}from"../chunks/Plus.BZKK9fQP.js";import{C as xt}from"../chunks/ChevronUp.xZZ1rZA6.js";import{C as kl}from"../chunks/ChevronDown.BIPeklLG.js";import{C as Xs}from"../chunks/ChevronRight.DmFRAWAL.js";import{T as Ss}from"../chunks/Textarea.t6vafWzV.js";import"../chunks/marked.esm._0_gBwjO.js";import{S as Ht}from"../chunks/Switch.CpkgZUVD.js";import{C as er}from"../chunks/Checkbox.Dub3e-TT.js";import{W as tr}from"../chunks/WrenchSolid._7641YhQ.js";import{u as lr,d as sr,g as fs,c as rr}from"../chunks/index.ZYZ-Y4k2.js";import{P as ar}from"../chunks/Pencil.jFs2uk9D.js";import{U as nr}from"../chunks/User.DXkla1b6.js";import{U as or}from"../chunks/UserCircleSolid.DH-JtOTP.js";function ir(s){let e,t;return{c(){e=yl("svg"),t=yl("path"),this.h()},l(l){e=Dl(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=m(e);t=Dl(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),m(t).forEach(c),r.forEach(c),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width",s[1]),u(e,"stroke","currentColor"),u(e,"class",s[0])},m(l,r){F(l,e,r),n(e,t)},p(l,[r]){r&2&&u(e,"stroke-width",l[1]),r&1&&u(e,"class",l[0])},i:We,o:We,d(l){l&&c(e)}}}function ur(s,e,t){let{className:l="size-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=f=>{"className"in f&&t(0,l=f.className),"strokeWidth"in f&&t(1,r=f.strokeWidth)},[l,r]}class fr extends kt{constructor(e){super(),$t(this,e,ur,ir,pt,{className:0,strokeWidth:1})}}function cr(s){let e,t,l,r=s[4].t("Edit User")+"",f,a,i,o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',h,v,g,p,w,V,U,I,$,x,b,k,D,G=s[1].name+"",S,C,z,ee=s[4].t("Created at")+"",A,Z,j=St(s[1].created_at*1e3).format("LL")+"",te,P,M,K,ue,de,R,Q=s[4].t("Email")+"",B,he,ve,pe,ge,O,H,q,J=s[4].t("Name")+"",_e,ke,fe,we,le,ce,Te,Ie=s[4].t("New Password")+"",Ue,Ke,Le,Ve,xe,je,Me,Ne=s[4].t("Save")+"",st,me,De;return{c(){e=d("div"),t=d("div"),l=d("div"),f=W(r),a=E(),i=d("button"),i.innerHTML=o,h=E(),v=d("hr"),g=E(),p=d("div"),w=d("div"),V=d("form"),U=d("div"),I=d("div"),$=d("img"),b=E(),k=d("div"),D=d("div"),S=W(G),C=E(),z=d("div"),A=W(ee),Z=E(),te=W(j),P=E(),M=d("hr"),K=E(),ue=d("div"),de=d("div"),R=d("div"),B=W(Q),he=E(),ve=d("div"),pe=d("input"),O=E(),H=d("div"),q=d("div"),_e=W(J),ke=E(),fe=d("div"),we=d("input"),le=E(),ce=d("div"),Te=d("div"),Ue=W(Ie),Ke=E(),Le=d("div"),Ve=d("input"),xe=E(),je=d("div"),Me=d("button"),st=W(Ne),this.h()},l(be){e=_(be,"DIV",{});var $e=m(e);t=_($e,"DIV",{class:!0});var it=m(t);l=_(it,"DIV",{class:!0});var Qe=m(l);f=Y(Qe,r),Qe.forEach(c),a=y(it),i=_(it,"BUTTON",{class:!0,"data-svelte-h":!0}),ft(i)!=="svelte-745w2y"&&(i.innerHTML=o),it.forEach(c),h=y($e),v=_($e,"HR",{class:!0}),g=y($e),p=_($e,"DIV",{class:!0});var Ge=m(p);w=_(Ge,"DIV",{class:!0});var Et=m(w);V=_(Et,"FORM",{class:!0});var Ze=m(V);U=_(Ze,"DIV",{class:!0});var et=m(U);I=_(et,"DIV",{class:!0});var Oe=m(I);$=_(Oe,"IMG",{src:!0,class:!0,alt:!0}),Oe.forEach(c),b=y(et),k=_(et,"DIV",{});var qe=m(k);D=_(qe,"DIV",{class:!0});var vt=m(D);S=Y(vt,G),vt.forEach(c),C=y(qe),z=_(qe,"DIV",{class:!0});var ut=m(z);A=Y(ut,ee),Z=y(ut),te=Y(ut,j),ut.forEach(c),qe.forEach(c),et.forEach(c),P=y(Ze),M=_(Ze,"HR",{class:!0}),K=y(Ze),ue=_(Ze,"DIV",{class:!0});var ze=m(ue);de=_(ze,"DIV",{class:!0});var _t=m(de);R=_(_t,"DIV",{class:!0});var jt=m(R);B=Y(jt,Q),jt.forEach(c),he=y(_t),ve=_(_t,"DIV",{class:!0});var Gt=m(ve);pe=_(Gt,"INPUT",{class:!0,type:!0,autocomplete:!0}),Gt.forEach(c),_t.forEach(c),O=y(ze),H=_(ze,"DIV",{class:!0});var rt=m(H);q=_(rt,"DIV",{class:!0});var Re=m(q);_e=Y(Re,J),Re.forEach(c),ke=y(rt),fe=_(rt,"DIV",{class:!0});var Tt=m(fe);we=_(Tt,"INPUT",{class:!0,type:!0,autocomplete:!0}),Tt.forEach(c),rt.forEach(c),le=y(ze),ce=_(ze,"DIV",{class:!0});var ct=m(ce);Te=_(ct,"DIV",{class:!0});var ht=m(Te);Ue=Y(ht,Ie),ht.forEach(c),Ke=y(ct),Le=_(ct,"DIV",{class:!0});var Bt=m(Le);Ve=_(Bt,"INPUT",{class:!0,type:!0,autocomplete:!0}),Bt.forEach(c),ct.forEach(c),ze.forEach(c),xe=y(Ze),je=_(Ze,"DIV",{class:!0});var gt=m(je);Me=_(gt,"BUTTON",{class:!0,type:!0});var Nt=m(Me);st=Y(Nt,Ne),Nt.forEach(c),gt.forEach(c),Ze.forEach(c),Et.forEach(c),Ge.forEach(c),$e.forEach(c),this.h()},h(){u(l,"class","text-lg font-medium self-center"),u(i,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-300 px-5 py-4"),u(v,"class","border-gray-100 dark:border-gray-850"),Il($.src,x=s[1].profile_image_url)||u($,"src",x),u($,"class","max-w-[55px] object-cover rounded-full"),u($,"alt","User profile"),u(I,"class","self-center mr-5"),u(D,"class","self-center capitalize font-semibold"),u(z,"class","text-xs text-gray-500"),u(U,"class","flex items-center rounded-md py-2 px-4 w-full"),u(M,"class","border-gray-100 dark:border-gray-850 my-3 w-full"),u(R,"class","mb-1 text-xs text-gray-500"),u(pe,"class","w-full rounded-sm py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden svelte-1vx7r9s"),u(pe,"type","email"),u(pe,"autocomplete","off"),pe.required=!0,pe.disabled=ge=s[3].id==s[2].id,u(ve,"class","flex-1"),u(de,"class","flex flex-col w-full"),u(q,"class","mb-1 text-xs text-gray-500"),u(we,"class","w-full rounded-sm py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-hidden svelte-1vx7r9s"),u(we,"type","text"),u(we,"autocomplete","off"),we.required=!0,u(fe,"class","flex-1"),u(H,"class","flex flex-col w-full"),u(Te,"class","mb-1 text-xs text-gray-500"),u(Ve,"class","w-full rounded-sm py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-hidden svelte-1vx7r9s"),u(Ve,"type","password"),u(Ve,"autocomplete","new-password"),u(Le,"class","flex-1"),u(ce,"class","flex flex-col w-full"),u(ue,"class","flex flex-col space-y-1.5"),u(Me,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),u(Me,"type","submit"),u(je,"class","flex justify-end pt-3 text-sm font-medium"),u(V,"class","flex flex-col w-full"),u(w,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),u(p,"class","flex flex-col md:flex-row w-full p-5 md:space-x-4 dark:text-gray-200")},m(be,$e){F(be,e,$e),n(e,t),n(t,l),n(l,f),n(t,a),n(t,i),n(e,h),n(e,v),n(e,g),n(e,p),n(p,w),n(w,V),n(V,U),n(U,I),n(I,$),n(U,b),n(U,k),n(k,D),n(D,S),n(k,C),n(k,z),n(z,A),n(z,Z),n(z,te),n(V,P),n(V,M),n(V,K),n(V,ue),n(ue,de),n(de,R),n(R,B),n(de,he),n(de,ve),n(ve,pe),Fe(pe,s[3].email),n(ue,O),n(ue,H),n(H,q),n(q,_e),n(H,ke),n(H,fe),n(fe,we),Fe(we,s[3].name),n(ue,le),n(ue,ce),n(ce,Te),n(Te,Ue),n(ce,Ke),n(ce,Le),n(Le,Ve),Fe(Ve,s[3].password),n(V,xe),n(V,je),n(je,Me),n(Me,st),me||(De=[Ee(i,"click",s[7]),Ee(pe,"input",s[8]),Ee(we,"input",s[9]),Ee(Ve,"input",s[10]),Ee(V,"submit",Us(s[11]))],me=!0)},p(be,$e){$e&16&&r!==(r=be[4].t("Edit User")+"")&&X(f,r),$e&2&&!Il($.src,x=be[1].profile_image_url)&&u($,"src",x),$e&2&&G!==(G=be[1].name+"")&&X(S,G),$e&16&&ee!==(ee=be[4].t("Created at")+"")&&X(A,ee),$e&2&&j!==(j=St(be[1].created_at*1e3).format("LL")+"")&&X(te,j),$e&16&&Q!==(Q=be[4].t("Email")+"")&&X(B,Q),$e&12&&ge!==(ge=be[3].id==be[2].id)&&(pe.disabled=ge),$e&8&&pe.value!==be[3].email&&Fe(pe,be[3].email),$e&16&&J!==(J=be[4].t("Name")+"")&&X(_e,J),$e&8&&we.value!==be[3].name&&Fe(we,be[3].name),$e&16&&Ie!==(Ie=be[4].t("New Password")+"")&&X(Ue,Ie),$e&8&&Ve.value!==be[3].password&&Fe(Ve,be[3].password),$e&16&&Ne!==(Ne=be[4].t("Save")+"")&&X(st,Ne)},d(be){be&&c(e),me=!1,Kt(De)}}}function dr(s){let e,t,l;function r(a){s[12](a)}let f={size:"sm",$$slots:{default:[cr]},$$scope:{ctx:s}};return s[0]!==void 0&&(f.show=s[0]),e=new Gl({props:f}),Ae.push(()=>Be(e,"show",r)),{c(){ae(e.$$.fragment)},l(a){ne(e.$$.fragment,a)},m(a,i){oe(e,a,i),l=!0},p(a,[i]){const o={};i&16415&&(o.$$scope={dirty:i,ctx:a}),!t&&i&1&&(t=!0,o.show=a[0],Se(()=>t=!1)),e.$set(o)},i(a){l||(T(e.$$.fragment,a),l=!0)},o(a){L(e.$$.fragment,a),l=!1},d(a){ie(e,a)}}}function _r(s,e,t){let l;const r=zt("i18n");bt(s,r,$=>t(4,l=$));const f=ts();St.extend(rs);let{show:a=!1}=e,{selectedUser:i}=e,{sessionUser:o}=e,h={profile_image_url:"",name:"",email:"",password:""};const v=async()=>{await js(localStorage.token,i.id,h).catch(x=>{ot.error(`${x}`)})&&(f("save"),t(0,a=!1))};Vl(()=>{i&&(t(3,h=i),t(3,h.password="",h))});const g=()=>{t(0,a=!1)};function p(){h.email=this.value,t(3,h)}function w(){h.name=this.value,t(3,h)}function V(){h.password=this.value,t(3,h)}const U=()=>{v()};function I($){a=$,t(0,a)}return s.$$set=$=>{"show"in $&&t(0,a=$.show),"selectedUser"in $&&t(1,i=$.selectedUser),"sessionUser"in $&&t(2,o=$.sessionUser)},[a,i,o,h,l,r,v,g,p,w,V,U,I]}class hr extends kt{constructor(e){super(),$t(this,e,_r,dr,pt,{show:0,selectedUser:1,sessionUser:2})}}function cs(s,e,t){const l=s.slice();return l[16]=e[t],l[18]=t,l}function mr(s){let e,t;return e=new Qs({}),{c(){ae(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,r){oe(e,l,r),t=!0},p:We,i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){ie(e,l)}}}function pr(s){let e,t,l,r;const f=[gr,vr],a=[];function i(o,h){return o[2].length>0?0:1}return e=i(s),t=a[e]=f[e](s),{c(){t.c(),l=hl()},l(o){t.l(o),l=hl()},m(o,h){a[e].m(o,h),F(o,l,h),r=!0},p(o,h){let v=e;e=i(o),e===v?a[e].p(o,h):(Pe(),L(a[v],1,1,()=>{a[v]=null}),He(),t=a[e],t?t.p(o,h):(t=a[e]=f[e](o),t.c()),T(t,1),t.m(l.parentNode,l))},i(o){r||(T(t),r=!0)},o(o){L(t),r=!1},d(o){o&&c(l),a[e].d(o)}}}function vr(s){let e,t=s[1].name+"",l,r,f=s[5].t("has no conversations.")+"",a;return{c(){e=d("div"),l=W(t),r=E(),a=W(f),this.h()},l(i){e=_(i,"DIV",{class:!0});var o=m(e);l=Y(o,t),r=y(o),a=Y(o,f),o.forEach(c),this.h()},h(){u(e,"class","text-left text-sm w-full mb-8")},m(i,o){F(i,e,o),n(e,l),n(e,r),n(e,a)},p(i,o){o&2&&t!==(t=i[1].name+"")&&X(l,t),o&32&&f!==(f=i[5].t("has no conversations.")+"")&&X(a,f)},i:We,o:We,d(i){i&&c(e)}}}function gr(s){let e,t,l,r,f,a,i=s[5].t("Title")+"",o,h,v,g,p=s[5].t("Updated at")+"",w,V,U,I,$,x,b,k,D;function G(P,M){return P[3]==="title"?br:wr}let S=G(s),C=S(s);function z(P,M){return P[3]==="updated_at"?$r:kr}let ee=z(s),A=ee(s),Z=ml(s[2].sort(s[12])),j=[];for(let P=0;P<Z.length;P+=1)j[P]=ds(cs(s,Z,P));const te=P=>L(j[P],1,1,()=>{j[P]=null});return{c(){e=d("div"),t=d("div"),l=d("table"),r=d("thead"),f=d("tr"),a=d("th"),o=W(i),h=E(),C.c(),v=E(),g=d("th"),w=W(p),V=E(),A.c(),U=E(),I=d("th"),$=E(),x=d("tbody");for(let P=0;P<j.length;P+=1)j[P].c();this.h()},l(P){e=_(P,"DIV",{class:!0});var M=m(e);t=_(M,"DIV",{class:!0});var K=m(t);l=_(K,"TABLE",{class:!0});var ue=m(l);r=_(ue,"THEAD",{class:!0});var de=m(r);f=_(de,"TR",{});var R=m(f);a=_(R,"TH",{scope:!0,class:!0});var Q=m(a);o=Y(Q,i),h=y(Q),C.l(Q),Q.forEach(c),v=y(R),g=_(R,"TH",{scope:!0,class:!0});var B=m(g);w=Y(B,p),V=y(B),A.l(B),B.forEach(c),U=y(R),I=_(R,"TH",{scope:!0,class:!0}),m(I).forEach(c),R.forEach(c),de.forEach(c),$=y(ue),x=_(ue,"TBODY",{});var he=m(x);for(let ve=0;ve<j.length;ve+=1)j[ve].l(he);he.forEach(c),ue.forEach(c),K.forEach(c),M.forEach(c),this.h()},h(){u(a,"scope","col"),u(a,"class","px-3 py-2 cursor-pointer select-none"),u(g,"scope","col"),u(g,"class","px-3 py-2 hidden md:flex cursor-pointer select-none justify-end"),u(I,"scope","col"),u(I,"class","px-3 py-2 text-right"),u(r,"class","text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-850"),u(l,"class","w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto"),u(t,"class","relative overflow-x-auto"),u(e,"class","text-left text-sm w-full mb-4 max-h-[22rem] overflow-y-scroll")},m(P,M){F(P,e,M),n(e,t),n(t,l),n(l,r),n(r,f),n(f,a),n(a,o),n(a,h),C.m(a,null),n(f,v),n(f,g),n(g,w),n(g,V),A.m(g,null),n(f,U),n(f,I),n(l,$),n(l,x);for(let K=0;K<j.length;K+=1)j[K]&&j[K].m(x,null);b=!0,k||(D=[Ee(a,"click",s[10]),Ee(g,"click",s[11])],k=!0)},p(P,M){if((!b||M&32)&&i!==(i=P[5].t("Title")+"")&&X(o,i),S===(S=G(P))&&C?C.p(P,M):(C.d(1),C=S(P),C&&(C.c(),C.m(a,null))),(!b||M&32)&&p!==(p=P[5].t("Updated at")+"")&&X(w,p),ee===(ee=z(P))&&A?A.p(P,M):(A.d(1),A=ee(P),A&&(A.c(),A.m(g,null))),M&188){Z=ml(P[2].sort(P[12]));let K;for(K=0;K<Z.length;K+=1){const ue=cs(P,Z,K);j[K]?(j[K].p(ue,M),T(j[K],1)):(j[K]=ds(ue),j[K].c(),T(j[K],1),j[K].m(x,null))}for(Pe(),K=Z.length;K<j.length;K+=1)te(K);He()}},i(P){if(!b){for(let M=0;M<Z.length;M+=1)T(j[M]);b=!0}},o(P){j=j.filter(Boolean);for(let M=0;M<j.length;M+=1)L(j[M]);b=!1},d(P){P&&c(e),C.d(),A.d(),ls(j,P),k=!1,Kt(D)}}}function wr(s){let e,t="▲";return{c(){e=d("span"),e.textContent=t,this.h()},l(l){e=_(l,"SPAN",{class:!0,"data-svelte-h":!0}),ft(e)!=="svelte-7bvkyo"&&(e.textContent=t),this.h()},h(){u(e,"class","invisible")},m(l,r){F(l,e,r)},p:We,d(l){l&&c(e)}}}function br(s){let e=s[4]==="asc"?"▲":"▼",t;return{c(){t=W(e)},l(l){t=Y(l,e)},m(l,r){F(l,t,r)},p(l,r){r&16&&e!==(e=l[4]==="asc"?"▲":"▼")&&X(t,e)},d(l){l&&c(t)}}}function kr(s){let e,t="▲";return{c(){e=d("span"),e.textContent=t,this.h()},l(l){e=_(l,"SPAN",{class:!0,"data-svelte-h":!0}),ft(e)!=="svelte-7bvkyo"&&(e.textContent=t),this.h()},h(){u(e,"class","invisible")},m(l,r){F(l,e,r)},p:We,d(l){l&&c(e)}}}function $r(s){let e=s[4]==="asc"?"▲":"▼",t;return{c(){t=W(e)},l(l){t=Y(l,e)},m(l,r){F(l,t,r)},p(l,r){r&16&&e!==(e=l[4]==="asc"?"▲":"▼")&&X(t,e)},d(l){l&&c(t)}}}function Er(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,r;function f(){return s[13](s[16])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(a){e=_(a,"BUTTON",{class:!0,"data-svelte-h":!0}),ft(e)!=="svelte-oqx8cx"&&(e.innerHTML=t),this.h()},h(){u(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(a,i){F(a,e,i),l||(r=Ee(e,"click",f),l=!0)},p(a,i){s=a},d(a){a&&c(e),l=!1,r()}}}function ds(s){let e,t,l,r,f=s[16].title+"",a,i,o,h,v,g=St(s[16].updated_at*1e3).format("LLL")+"",p,w,V,U,I,$,x,b;return I=new pl({props:{content:s[5].t("Delete Chat"),$$slots:{default:[Er]},$$scope:{ctx:s}}}),{c(){e=d("tr"),t=d("td"),l=d("a"),r=d("div"),a=W(f),o=E(),h=d("td"),v=d("div"),p=W(g),w=E(),V=d("td"),U=d("div"),ae(I.$$.fragment),$=E(),this.h()},l(k){e=_(k,"TR",{class:!0});var D=m(e);t=_(D,"TD",{class:!0});var G=m(t);l=_(G,"A",{href:!0,target:!0});var S=m(l);r=_(S,"DIV",{class:!0});var C=m(r);a=Y(C,f),C.forEach(c),S.forEach(c),G.forEach(c),o=y(D),h=_(D,"TD",{class:!0});var z=m(h);v=_(z,"DIV",{class:!0});var ee=m(v);p=Y(ee,g),ee.forEach(c),z.forEach(c),w=y(D),V=_(D,"TD",{class:!0});var A=m(V);U=_(A,"DIV",{class:!0});var Z=m(U);ne(I.$$.fragment,Z),Z.forEach(c),A.forEach(c),$=y(D),D.forEach(c),this.h()},h(){u(r,"class","underline line-clamp-1 max-w-96"),u(l,"href",i="/s/"+s[16].id),u(l,"target","_blank"),u(t,"class","px-3 py-1"),u(v,"class","my-auto shrink-0"),u(h,"class","px-3 py-1 hidden md:flex h-[2.5rem] justify-end"),u(U,"class","flex justify-end w-full"),u(V,"class","px-3 py-1 text-right"),u(e,"class",x="bg-transparent "+(s[18]!==s[2].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs")},m(k,D){F(k,e,D),n(e,t),n(t,l),n(l,r),n(r,a),n(e,o),n(e,h),n(h,v),n(v,p),n(e,w),n(e,V),n(V,U),oe(I,U,null),n(e,$),b=!0},p(k,D){(!b||D&28)&&f!==(f=k[16].title+"")&&X(a,f),(!b||D&28&&i!==(i="/s/"+k[16].id))&&u(l,"href",i),(!b||D&28)&&g!==(g=St(k[16].updated_at*1e3).format("LLL")+"")&&X(p,g);const G={};D&32&&(G.content=k[5].t("Delete Chat")),D&524316&&(G.$$scope={dirty:D,ctx:k}),I.$set(G),(!b||D&4&&x!==(x="bg-transparent "+(k[18]!==k[2].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs"))&&u(e,"class",x)},i(k){b||(T(I.$$.fragment,k),b=!0)},o(k){L(I.$$.fragment,k),b=!1},d(k){k&&c(e),ie(I)}}}function yr(s){let e,t,l=s[5].t("{{user}}'s Chats",{user:s[1].name})+"",r,f,a,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',o,h,v,g,p,w,V,U;const I=[pr,mr],$=[];function x(b,k){return b[2]?0:1}return g=x(s),p=$[g]=I[g](s),{c(){e=d("div"),t=d("div"),r=W(l),f=E(),a=d("button"),a.innerHTML=i,o=E(),h=d("div"),v=d("div"),p.c(),this.h()},l(b){e=_(b,"DIV",{class:!0});var k=m(e);t=_(k,"DIV",{class:!0});var D=m(t);r=Y(D,l),D.forEach(c),f=y(k),a=_(k,"BUTTON",{class:!0,"data-svelte-h":!0}),ft(a)!=="svelte-1i09mfg"&&(a.innerHTML=i),k.forEach(c),o=y(b),h=_(b,"DIV",{class:!0});var G=m(h);v=_(G,"DIV",{class:!0});var S=m(v);p.l(S),S.forEach(c),G.forEach(c),this.h()},h(){u(t,"class","text-lg font-medium self-center capitalize"),u(a,"class","self-center"),u(e,"class","flex justify-between dark:text-gray-300 px-5 pt-4"),u(v,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),u(h,"class","flex flex-col md:flex-row w-full px-5 pt-2 pb-4 md:space-x-4 dark:text-gray-200")},m(b,k){F(b,e,k),n(e,t),n(t,r),n(e,f),n(e,a),F(b,o,k),F(b,h,k),n(h,v),$[g].m(v,null),w=!0,V||(U=Ee(a,"click",s[9]),V=!0)},p(b,k){(!w||k&34)&&l!==(l=b[5].t("{{user}}'s Chats",{user:b[1].name})+"")&&X(r,l);let D=g;g=x(b),g===D?$[g].p(b,k):(Pe(),L($[D],1,1,()=>{$[D]=null}),He(),p=$[g],p?p.p(b,k):(p=$[g]=I[g](b),p.c()),T(p,1),p.m(v,null))},i(b){w||(T(p),w=!0)},o(b){L(p),w=!1},d(b){b&&(c(e),c(o),c(h)),$[g].d(),V=!1,U()}}}function Dr(s){let e,t,l;function r(a){s[14](a)}let f={size:"lg",$$slots:{default:[yr]},$$scope:{ctx:s}};return s[0]!==void 0&&(f.show=s[0]),e=new Gl({props:f}),Ae.push(()=>Be(e,"show",r)),{c(){ae(e.$$.fragment)},l(a){ne(e.$$.fragment,a)},m(a,i){oe(e,a,i),l=!0},p(a,[i]){const o={};i&524351&&(o.$$scope={dirty:i,ctx:a}),!t&&i&1&&(t=!0,o.show=a[0],Se(()=>t=!1)),e.$set(o)},i(a){l||(T(e.$$.fragment,a),l=!0)},o(a){L(e.$$.fragment,a),l=!1},d(a){ie(e,a)}}}function Ir(s,e,t){let l;ts(),St.extend(rs);const r=zt("i18n");bt(s,r,x=>t(5,l=x));let{show:f=!1}=e,{user:a}=e,i=null;const o=async x=>{await Ks(localStorage.token,x).catch(b=>{ot.error(`${b}`)}),t(2,i=await is(localStorage.token,a.id))};let h="updated_at",v="desc";function g(x){h===x?t(4,v=v==="asc"?"desc":"asc"):(t(3,h=x),t(4,v="asc"))}const p=()=>{t(0,f=!1)},w=()=>g("title"),V=()=>g("updated_at"),U=(x,b)=>x[h]<b[h]?v==="asc"?-1:1:x[h]>b[h]?v==="asc"?1:-1:0,I=async x=>{o(x.id)};function $(x){f=x,t(0,f)}return s.$$set=x=>{"show"in x&&t(0,f=x.show),"user"in x&&t(1,a=x.user)},s.$$.update=()=>{s.$$.dirty&3&&(f?(async()=>a.id&&t(2,i=await is(localStorage.token,a.id)))():t(2,i=null))},[f,a,i,h,v,l,r,o,g,p,w,V,U,I,$]}class Vr extends kt{constructor(e){super(),$t(this,e,Ir,Dr,pt,{show:0,user:1})}}function xr(s){let e,t,l,r,f,a,i,o,h=s[5].t("Ensure your CSV file includes 4 columns in this order: Name, Email, Password, Role.")+"",v,g,p,w=s[5].t("Click here to download user import template file.")+"",V,U,I;function $(k,D){return k[3]?Cr:Nr}let x=$(s),b=x(s);return{c(){e=d("div"),t=d("div"),l=d("input"),r=E(),f=d("button"),b.c(),a=E(),i=d("div"),o=W("ⓘ "),v=W(h),g=E(),p=d("a"),V=W(w),this.h()},l(k){e=_(k,"DIV",{});var D=m(e);t=_(D,"DIV",{class:!0});var G=m(t);l=_(G,"INPUT",{id:!0,type:!0,accept:!0,class:!0}),r=y(G),f=_(G,"BUTTON",{class:!0,type:!0});var S=m(f);b.l(S),S.forEach(c),G.forEach(c),a=y(D),i=_(D,"DIV",{class:!0});var C=m(i);o=Y(C,"ⓘ "),v=Y(C,h),g=y(C),p=_(C,"A",{class:!0,href:!0});var z=m(p);V=Y(z,w),z.forEach(c),C.forEach(c),D.forEach(c),this.h()},h(){u(l,"id","upload-user-csv-input"),l.hidden=!0,u(l,"type","file"),u(l,"accept",".csv"),u(l,"class","svelte-1vx7r9s"),u(f,"class","w-full text-sm font-medium py-3 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-850 dark:hover:bg-gray-850 text-center rounded-xl"),u(f,"type","button"),u(t,"class","mb-3 w-full"),u(p,"class","underline dark:text-gray-200"),u(p,"href",jl+"/static/user-import.csv"),u(i,"class","text-xs text-gray-500")},m(k,D){F(k,e,D),n(e,t),n(t,l),n(t,r),n(t,f),b.m(f,null),n(e,a),n(e,i),n(i,o),n(i,v),n(i,g),n(i,p),n(p,V),U||(I=[Ee(l,"change",s[15]),Ee(f,"click",s[16])],U=!0)},p(k,D){x===(x=$(k))&&b?b.p(k,D):(b.d(1),b=x(k),b&&(b.c(),b.m(f,null))),D&32&&h!==(h=k[5].t("Ensure your CSV file includes 4 columns in this order: Name, Email, Password, Role.")+"")&&X(v,h),D&32&&w!==(w=k[5].t("Click here to download user import template file.")+"")&&X(V,w)},d(k){k&&c(e),b.d(),U=!1,Kt(I)}}}function Tr(s){let e,t,l=s[5].t("Role")+"",r,f,a,i,o,h=s[5].t("pending")+"",v,g,p,w=s[5].t("user")+"",V,U,I,$=s[5].t("admin")+"",x,b,k,D,G,S=s[5].t("Name")+"",C,z,ee,A,Z,j,te,P,M,K,ue=s[5].t("Email")+"",de,R,Q,B,he,ve,pe,ge,O=s[5].t("Password")+"",H,q,J,_e,ke,fe,we;return{c(){e=d("div"),t=d("div"),r=W(l),f=E(),a=d("div"),i=d("select"),o=d("option"),v=W(h),g=E(),p=d("option"),V=W(w),U=E(),I=d("option"),x=W($),k=E(),D=d("div"),G=d("div"),C=W(S),z=E(),ee=d("div"),A=d("input"),j=E(),te=d("hr"),P=E(),M=d("div"),K=d("div"),de=W(ue),R=E(),Q=d("div"),B=d("input"),ve=E(),pe=d("div"),ge=d("div"),H=W(O),q=E(),J=d("div"),_e=d("input"),this.h()},l(le){e=_(le,"DIV",{class:!0});var ce=m(e);t=_(ce,"DIV",{class:!0});var Te=m(t);r=Y(Te,l),Te.forEach(c),f=y(ce),a=_(ce,"DIV",{class:!0});var Ie=m(a);i=_(Ie,"SELECT",{class:!0,placeholder:!0});var Ue=m(i);o=_(Ue,"OPTION",{});var Ke=m(o);v=Y(Ke,h),g=y(Ke),Ke.forEach(c),p=_(Ue,"OPTION",{});var Le=m(p);V=Y(Le,w),U=y(Le),Le.forEach(c),I=_(Ue,"OPTION",{});var Ve=m(I);x=Y(Ve,$),Ve.forEach(c),Ue.forEach(c),Ie.forEach(c),ce.forEach(c),k=y(le),D=_(le,"DIV",{class:!0});var xe=m(D);G=_(xe,"DIV",{class:!0});var je=m(G);C=Y(je,S),je.forEach(c),z=y(xe),ee=_(xe,"DIV",{class:!0});var Me=m(ee);A=_(Me,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Me.forEach(c),xe.forEach(c),j=y(le),te=_(le,"HR",{class:!0}),P=y(le),M=_(le,"DIV",{class:!0});var Ne=m(M);K=_(Ne,"DIV",{class:!0});var st=m(K);de=Y(st,ue),st.forEach(c),R=y(Ne),Q=_(Ne,"DIV",{class:!0});var me=m(Q);B=_(me,"INPUT",{class:!0,type:!0,placeholder:!0}),me.forEach(c),Ne.forEach(c),ve=y(le),pe=_(le,"DIV",{class:!0});var De=m(pe);ge=_(De,"DIV",{class:!0});var be=m(ge);H=Y(be,O),be.forEach(c),q=y(De),J=_(De,"DIV",{class:!0});var $e=m(J);_e=_($e,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),$e.forEach(c),De.forEach(c),this.h()},h(){u(t,"class","mb-1 text-xs text-gray-500"),o.__value="pending",Fe(o,o.__value),p.__value="user",Fe(p,p.__value),I.__value="admin",Fe(I,I.__value),u(i,"class","w-full capitalize rounded-lg text-sm bg-transparent dark:disabled:text-gray-500 outline-hidden"),u(i,"placeholder",b=s[5].t("Enter Your Role")),i.required=!0,s[4].role===void 0&&Hs(()=>s[11].call(i)),u(a,"class","flex-1"),u(e,"class","flex flex-col w-full mb-3"),u(G,"class","mb-1 text-xs text-gray-500"),u(A,"class","w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden svelte-1vx7r9s"),u(A,"type","text"),u(A,"placeholder",Z=s[5].t("Enter Your Full Name")),u(A,"autocomplete","off"),A.required=!0,u(ee,"class","flex-1"),u(D,"class","flex flex-col w-full mt-1"),u(te,"class","border-gray-100 dark:border-gray-850 my-2.5 w-full"),u(K,"class","mb-1 text-xs text-gray-500"),u(B,"class","w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden svelte-1vx7r9s"),u(B,"type","email"),u(B,"placeholder",he=s[5].t("Enter Your Email")),B.required=!0,u(Q,"class","flex-1"),u(M,"class","flex flex-col w-full"),u(ge,"class","mb-1 text-xs text-gray-500"),u(_e,"class","w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden svelte-1vx7r9s"),u(_e,"type","password"),u(_e,"placeholder",ke=s[5].t("Enter Your Password")),u(_e,"autocomplete","off"),u(J,"class","flex-1"),u(pe,"class","flex flex-col w-full mt-1")},m(le,ce){F(le,e,ce),n(e,t),n(t,r),n(e,f),n(e,a),n(a,i),n(i,o),n(o,v),n(o,g),n(i,p),n(p,V),n(p,U),n(i,I),n(I,x),ns(i,s[4].role,!0),F(le,k,ce),F(le,D,ce),n(D,G),n(G,C),n(D,z),n(D,ee),n(ee,A),Fe(A,s[4].name),F(le,j,ce),F(le,te,ce),F(le,P,ce),F(le,M,ce),n(M,K),n(K,de),n(M,R),n(M,Q),n(Q,B),Fe(B,s[4].email),F(le,ve,ce),F(le,pe,ce),n(pe,ge),n(ge,H),n(pe,q),n(pe,J),n(J,_e),Fe(_e,s[4].password),fe||(we=[Ee(i,"change",s[11]),Ee(A,"input",s[12]),Ee(B,"input",s[13]),Ee(_e,"input",s[14])],fe=!0)},p(le,ce){ce&32&&l!==(l=le[5].t("Role")+"")&&X(r,l),ce&32&&h!==(h=le[5].t("pending")+"")&&X(v,h),ce&32&&w!==(w=le[5].t("user")+"")&&X(V,w),ce&32&&$!==($=le[5].t("admin")+"")&&X(x,$),ce&32&&b!==(b=le[5].t("Enter Your Role"))&&u(i,"placeholder",b),ce&16&&ns(i,le[4].role),ce&32&&S!==(S=le[5].t("Name")+"")&&X(C,S),ce&32&&Z!==(Z=le[5].t("Enter Your Full Name"))&&u(A,"placeholder",Z),ce&16&&A.value!==le[4].name&&Fe(A,le[4].name),ce&32&&ue!==(ue=le[5].t("Email")+"")&&X(de,ue),ce&32&&he!==(he=le[5].t("Enter Your Email"))&&u(B,"placeholder",he),ce&16&&B.value!==le[4].email&&Fe(B,le[4].email),ce&32&&O!==(O=le[5].t("Password")+"")&&X(H,O),ce&32&&ke!==(ke=le[5].t("Enter Your Password"))&&u(_e,"placeholder",ke),ce&16&&_e.value!==le[4].password&&Fe(_e,le[4].password)},d(le){le&&(c(e),c(k),c(D),c(j),c(te),c(P),c(M),c(ve),c(pe)),fe=!1,Kt(we)}}}function Nr(s){let e=s[5].t("Click here to select a csv file.")+"",t;return{c(){t=W(e)},l(l){t=Y(l,e)},m(l,r){F(l,t,r)},p(l,r){r&32&&e!==(e=l[5].t("Click here to select a csv file.")+"")&&X(t,e)},d(l){l&&c(t)}}}function Cr(s){let e=s[3].length>0?`${s[3].length}`:"",t,l;return{c(){t=W(e),l=W(" document(s) selected.")},l(r){t=Y(r,e),l=Y(r," document(s) selected.")},m(r,f){F(r,t,f),F(r,l,f)},p(r,f){f&8&&e!==(e=r[3].length>0?`${r[3].length}`:"")&&X(t,e)},d(r){r&&(c(t),c(l))}}}function _s(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),ft(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){u(e,"class","ml-2 self-center")},m(l,r){F(l,e,r)},d(l){l&&c(e)}}}function Ur(s){let e,t,l,r=s[5].t("Add User")+"",f,a,i,o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',h,v,g,p,w,V,U=s[5].t("Form")+"",I,$,x,b,k=s[5].t("CSV Import")+"",D,G,S,C,z,ee,A,Z=s[5].t("Save")+"",j,te,P,M,K;function ue(B,he){if(B[2]==="")return Tr;if(B[2]==="import")return xr}let de=ue(s),R=de&&de(s),Q=s[1]&&_s();return{c(){e=d("div"),t=d("div"),l=d("div"),f=W(r),a=E(),i=d("button"),i.innerHTML=o,h=E(),v=d("div"),g=d("div"),p=d("form"),w=d("div"),V=d("button"),I=W(U),x=E(),b=d("button"),D=W(k),S=E(),C=d("div"),R&&R.c(),z=E(),ee=d("div"),A=d("button"),j=W(Z),te=E(),Q&&Q.c(),this.h()},l(B){e=_(B,"DIV",{});var he=m(e);t=_(he,"DIV",{class:!0});var ve=m(t);l=_(ve,"DIV",{class:!0});var pe=m(l);f=Y(pe,r),pe.forEach(c),a=y(ve),i=_(ve,"BUTTON",{class:!0,"data-svelte-h":!0}),ft(i)!=="svelte-745w2y"&&(i.innerHTML=o),ve.forEach(c),h=y(he),v=_(he,"DIV",{class:!0});var ge=m(v);g=_(ge,"DIV",{class:!0});var O=m(g);p=_(O,"FORM",{class:!0});var H=m(p);w=_(H,"DIV",{class:!0});var q=m(w);V=_(q,"BUTTON",{class:!0,type:!0});var J=m(V);I=Y(J,U),J.forEach(c),x=y(q),b=_(q,"BUTTON",{class:!0,type:!0});var _e=m(b);D=Y(_e,k),_e.forEach(c),q.forEach(c),S=y(H),C=_(H,"DIV",{class:!0});var ke=m(C);R&&R.l(ke),ke.forEach(c),z=y(H),ee=_(H,"DIV",{class:!0});var fe=m(ee);A=_(fe,"BUTTON",{class:!0,type:!0});var we=m(A);j=Y(we,Z),te=y(we),Q&&Q.l(we),we.forEach(c),fe.forEach(c),H.forEach(c),O.forEach(c),ge.forEach(c),he.forEach(c),this.h()},h(){u(l,"class","text-lg font-medium self-center"),u(i,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),u(V,"class",$="min-w-fit rounded-full p-1.5 "+(s[2]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"),u(V,"type","button"),u(b,"class",G="min-w-fit rounded-full p-1.5 "+(s[2]==="import"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"),u(b,"type","button"),u(w,"class","flex -mt-2 mb-1.5 gap-1 scrollbar-none overflow-x-auto w-fit text-center text-sm font-medium rounded-full bg-transparent dark:text-gray-200"),u(C,"class","px-1"),u(A,"class",P="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[1]?" cursor-not-allowed":"")),u(A,"type","submit"),A.disabled=s[1],u(ee,"class","flex justify-end pt-3 text-sm font-medium"),u(p,"class","flex flex-col w-full"),u(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),u(v,"class","flex flex-col md:flex-row w-full px-4 pb-3 md:space-x-4 dark:text-gray-200")},m(B,he){F(B,e,he),n(e,t),n(t,l),n(l,f),n(t,a),n(t,i),n(e,h),n(e,v),n(v,g),n(g,p),n(p,w),n(w,V),n(V,I),n(w,x),n(w,b),n(b,D),n(p,S),n(p,C),R&&R.m(C,null),n(p,z),n(p,ee),n(ee,A),n(A,j),n(A,te),Q&&Q.m(A,null),M||(K=[Ee(i,"click",s[8]),Ee(V,"click",s[9]),Ee(b,"click",s[10]),Ee(p,"submit",Us(s[17]))],M=!0)},p(B,he){he&32&&r!==(r=B[5].t("Add User")+"")&&X(f,r),he&32&&U!==(U=B[5].t("Form")+"")&&X(I,U),he&4&&$!==($="min-w-fit rounded-full p-1.5 "+(B[2]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition")&&u(V,"class",$),he&32&&k!==(k=B[5].t("CSV Import")+"")&&X(D,k),he&4&&G!==(G="min-w-fit rounded-full p-1.5 "+(B[2]==="import"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition")&&u(b,"class",G),de===(de=ue(B))&&R?R.p(B,he):(R&&R.d(1),R=de&&de(B),R&&(R.c(),R.m(C,null))),he&32&&Z!==(Z=B[5].t("Save")+"")&&X(j,Z),B[1]?Q||(Q=_s(),Q.c(),Q.m(A,null)):Q&&(Q.d(1),Q=null),he&2&&P!==(P="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(B[1]?" cursor-not-allowed":""))&&u(A,"class",P),he&2&&(A.disabled=B[1])},d(B){B&&c(e),R&&R.d(),Q&&Q.d(),M=!1,Kt(K)}}}function Lr(s){let e,t,l;function r(a){s[18](a)}let f={size:"sm",$$slots:{default:[Ur]},$$scope:{ctx:s}};return s[0]!==void 0&&(f.show=s[0]),e=new Gl({props:f}),Ae.push(()=>Be(e,"show",r)),{c(){ae(e.$$.fragment)},l(a){ne(e.$$.fragment,a)},m(a,i){oe(e,a,i),l=!0},p(a,[i]){const o={};i&1048639&&(o.$$scope={dirty:i,ctx:a}),!t&&i&1&&(t=!0,o.show=a[0],Se(()=>t=!1)),e.$set(o)},i(a){l||(T(e.$$.fragment,a),l=!0)},o(a){L(e.$$.fragment,a),l=!1},d(a){ie(e,a)}}}function Mr(s,e,t){let l;const r=zt("i18n");bt(s,r,S=>t(5,l=S));const f=ts();let{show:a=!1}=e,i=!1,o="",h,v={name:"",email:"",password:"",role:"user"};const g=async()=>{const S=()=>{f("save"),t(1,i=!1)};if(o==="")t(1,i=!0),await us(localStorage.token,v.name,v.email,v.password,v.role).catch(z=>{ot.error(`${z}`)})&&(S(),t(0,a=!1));else if(h){t(1,i=!0);const C=h[0],z=new FileReader;z.onload=async ee=>{const Z=ee.target.result.split(`
`);let j=0;for(const[P,M]of Z.entries()){const K=M.split(",").map(ue=>ue.trim());console.log(P,K),P>0&&(K.length===4&&["admin","user","pending"].includes(K[3].toLowerCase())?await us(localStorage.token,K[0],K[1],K[2],K[3].toLowerCase()).catch(de=>(ot.error(`Row ${P+1}: ${de}`),null))&&(j=j+1):ot.error(`Row ${P+1}: invalid format.`))}ot.success(`Successfully imported ${j} users.`),t(3,h=null);const te=document.getElementById("upload-user-csv-input");te&&(te.value=null),S()},z.readAsText(C)}else ot.error(l.t("File not found."));t(1,i=!1)},p=()=>{t(0,a=!1)},w=()=>{t(2,o="")},V=()=>{t(2,o="import")};function U(){v.role=Ps(this),t(4,v),t(0,a)}function I(){v.name=this.value,t(4,v),t(0,a)}function $(){v.email=this.value,t(4,v),t(0,a)}function x(){v.password=this.value,t(4,v),t(0,a)}function b(){h=this.files,t(3,h)}const k=()=>{var S;(S=document.getElementById("upload-user-csv-input"))==null||S.click()},D=()=>{g()};function G(S){a=S,t(0,a)}return s.$$set=S=>{"show"in S&&t(0,a=S.show)},s.$$.update=()=>{s.$$.dirty&1&&a&&t(4,v={name:"",email:"",password:"",role:"user"})},[a,i,o,h,v,l,r,g,p,w,V,U,I,$,x,b,k,D,G]}class Ar extends kt{constructor(e){super(),$t(this,e,Mr,Lr,pt,{show:0})}}function hs(s,e,t){const l=s.slice();return l[40]=e[t],l[42]=t,l}function ms(s){let e,t,l;function r(a){s[21](a)}let f={selectedUser:s[5],sessionUser:s[11]};return s[9]!==void 0&&(f.show=s[9]),e=new hr({props:f}),Ae.push(()=>Be(e,"show",r)),e.$on("save",s[22]),{c(){ae(e.$$.fragment)},l(a){ne(e.$$.fragment,a)},m(a,i){oe(e,a,i),l=!0},p(a,i){const o={};i[0]&32&&(o.selectedUser=a[5]),i[0]&2048&&(o.sessionUser=a[11]),!t&&i[0]&512&&(t=!0,o.show=a[9],Se(()=>t=!1)),e.$set(o)},i(a){l||(T(e.$$.fragment,a),l=!0)},o(a){L(e.$$.fragment,a),l=!1},d(a){ie(e,a)}}}function Sr(s){let e,t,l,r,f;return t=new As({props:{className:"size-3.5"}}),{c(){e=d("button"),ae(t.$$.fragment),this.h()},l(a){e=_(a,"BUTTON",{class:!0});var i=m(e);ne(t.$$.fragment,i),i.forEach(c),this.h()},h(){u(e,"class","p-2 rounded-xl hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 transition font-medium text-sm flex items-center space-x-1")},m(a,i){F(a,e,i),oe(t,e,null),l=!0,r||(f=Ee(e,"click",s[27]),r=!0)},p:We,i(a){l||(T(t.$$.fragment,a),l=!0)},o(a){L(t.$$.fragment,a),l=!1},d(a){a&&c(e),ie(t),r=!1,f()}}}function Br(s){let e,t,l;return t=new xt({props:{className:"size-2"}}),{c(){e=d("span"),ae(t.$$.fragment),this.h()},l(r){e=_(r,"SPAN",{class:!0});var f=m(e);ne(t.$$.fragment,f),f.forEach(c),this.h()},h(){u(e,"class","invisible")},m(r,f){F(r,e,f),oe(t,e,null),l=!0},p:We,i(r){l||(T(t.$$.fragment,r),l=!0)},o(r){L(t.$$.fragment,r),l=!1},d(r){r&&c(e),ie(t)}}}function Pr(s){let e,t,l,r;const f=[zr,Hr],a=[];function i(o,h){return o[4]==="asc"?0:1}return t=i(s),l=a[t]=f[t](s),{c(){e=d("span"),l.c(),this.h()},l(o){e=_(o,"SPAN",{class:!0});var h=m(e);l.l(h),h.forEach(c),this.h()},h(){u(e,"class","font-normal")},m(o,h){F(o,e,h),a[t].m(e,null),r=!0},p(o,h){let v=t;t=i(o),t!==v&&(Pe(),L(a[v],1,1,()=>{a[v]=null}),He(),l=a[t],l||(l=a[t]=f[t](o),l.c()),T(l,1),l.m(e,null))},i(o){r||(T(l),r=!0)},o(o){L(l),r=!1},d(o){o&&c(e),a[t].d()}}}function Hr(s){let e,t;return e=new kl({props:{className:"size-2"}}),{c(){ae(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,r){oe(e,l,r),t=!0},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){ie(e,l)}}}function zr(s){let e,t;return e=new xt({props:{className:"size-2"}}),{c(){ae(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,r){oe(e,l,r),t=!0},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){ie(e,l)}}}function jr(s){let e,t,l;return t=new xt({props:{className:"size-2"}}),{c(){e=d("span"),ae(t.$$.fragment),this.h()},l(r){e=_(r,"SPAN",{class:!0});var f=m(e);ne(t.$$.fragment,f),f.forEach(c),this.h()},h(){u(e,"class","invisible")},m(r,f){F(r,e,f),oe(t,e,null),l=!0},p:We,i(r){l||(T(t.$$.fragment,r),l=!0)},o(r){L(t.$$.fragment,r),l=!1},d(r){r&&c(e),ie(t)}}}function Gr(s){let e,t,l,r;const f=[Rr,Or],a=[];function i(o,h){return o[4]==="asc"?0:1}return t=i(s),l=a[t]=f[t](s),{c(){e=d("span"),l.c(),this.h()},l(o){e=_(o,"SPAN",{class:!0});var h=m(e);l.l(h),h.forEach(c),this.h()},h(){u(e,"class","font-normal")},m(o,h){F(o,e,h),a[t].m(e,null),r=!0},p(o,h){let v=t;t=i(o),t!==v&&(Pe(),L(a[v],1,1,()=>{a[v]=null}),He(),l=a[t],l||(l=a[t]=f[t](o),l.c()),T(l,1),l.m(e,null))},i(o){r||(T(l),r=!0)},o(o){L(l),r=!1},d(o){o&&c(e),a[t].d()}}}function Or(s){let e,t;return e=new kl({props:{className:"size-2"}}),{c(){ae(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,r){oe(e,l,r),t=!0},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){ie(e,l)}}}function Rr(s){let e,t;return e=new xt({props:{className:"size-2"}}),{c(){ae(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,r){oe(e,l,r),t=!0},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){ie(e,l)}}}function Zr(s){let e,t,l;return t=new xt({props:{className:"size-2"}}),{c(){e=d("span"),ae(t.$$.fragment),this.h()},l(r){e=_(r,"SPAN",{class:!0});var f=m(e);ne(t.$$.fragment,f),f.forEach(c),this.h()},h(){u(e,"class","invisible")},m(r,f){F(r,e,f),oe(t,e,null),l=!0},p:We,i(r){l||(T(t.$$.fragment,r),l=!0)},o(r){L(t.$$.fragment,r),l=!1},d(r){r&&c(e),ie(t)}}}function qr(s){let e,t,l,r;const f=[Yr,Wr],a=[];function i(o,h){return o[4]==="asc"?0:1}return t=i(s),l=a[t]=f[t](s),{c(){e=d("span"),l.c(),this.h()},l(o){e=_(o,"SPAN",{class:!0});var h=m(e);l.l(h),h.forEach(c),this.h()},h(){u(e,"class","font-normal")},m(o,h){F(o,e,h),a[t].m(e,null),r=!0},p(o,h){let v=t;t=i(o),t!==v&&(Pe(),L(a[v],1,1,()=>{a[v]=null}),He(),l=a[t],l||(l=a[t]=f[t](o),l.c()),T(l,1),l.m(e,null))},i(o){r||(T(l),r=!0)},o(o){L(l),r=!1},d(o){o&&c(e),a[t].d()}}}function Wr(s){let e,t;return e=new kl({props:{className:"size-2"}}),{c(){ae(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,r){oe(e,l,r),t=!0},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){ie(e,l)}}}function Yr(s){let e,t;return e=new xt({props:{className:"size-2"}}),{c(){ae(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,r){oe(e,l,r),t=!0},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){ie(e,l)}}}function Fr(s){let e,t,l;return t=new xt({props:{className:"size-2"}}),{c(){e=d("span"),ae(t.$$.fragment),this.h()},l(r){e=_(r,"SPAN",{class:!0});var f=m(e);ne(t.$$.fragment,f),f.forEach(c),this.h()},h(){u(e,"class","invisible")},m(r,f){F(r,e,f),oe(t,e,null),l=!0},p:We,i(r){l||(T(t.$$.fragment,r),l=!0)},o(r){L(t.$$.fragment,r),l=!1},d(r){r&&c(e),ie(t)}}}function Kr(s){let e,t,l,r;const f=[Jr,Qr],a=[];function i(o,h){return o[4]==="asc"?0:1}return t=i(s),l=a[t]=f[t](s),{c(){e=d("span"),l.c(),this.h()},l(o){e=_(o,"SPAN",{class:!0});var h=m(e);l.l(h),h.forEach(c),this.h()},h(){u(e,"class","font-normal")},m(o,h){F(o,e,h),a[t].m(e,null),r=!0},p(o,h){let v=t;t=i(o),t!==v&&(Pe(),L(a[v],1,1,()=>{a[v]=null}),He(),l=a[t],l||(l=a[t]=f[t](o),l.c()),T(l,1),l.m(e,null))},i(o){r||(T(l),r=!0)},o(o){L(l),r=!1},d(o){o&&c(e),a[t].d()}}}function Qr(s){let e,t;return e=new kl({props:{className:"size-2"}}),{c(){ae(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,r){oe(e,l,r),t=!0},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){ie(e,l)}}}function Jr(s){let e,t;return e=new xt({props:{className:"size-2"}}),{c(){ae(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,r){oe(e,l,r),t=!0},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){ie(e,l)}}}function Xr(s){let e,t,l;return t=new xt({props:{className:"size-2"}}),{c(){e=d("span"),ae(t.$$.fragment),this.h()},l(r){e=_(r,"SPAN",{class:!0});var f=m(e);ne(t.$$.fragment,f),f.forEach(c),this.h()},h(){u(e,"class","invisible")},m(r,f){F(r,e,f),oe(t,e,null),l=!0},p:We,i(r){l||(T(t.$$.fragment,r),l=!0)},o(r){L(t.$$.fragment,r),l=!1},d(r){r&&c(e),ie(t)}}}function ea(s){let e,t,l,r;const f=[la,ta],a=[];function i(o,h){return o[4]==="asc"?0:1}return t=i(s),l=a[t]=f[t](s),{c(){e=d("span"),l.c(),this.h()},l(o){e=_(o,"SPAN",{class:!0});var h=m(e);l.l(h),h.forEach(c),this.h()},h(){u(e,"class","font-normal")},m(o,h){F(o,e,h),a[t].m(e,null),r=!0},p(o,h){let v=t;t=i(o),t!==v&&(Pe(),L(a[v],1,1,()=>{a[v]=null}),He(),l=a[t],l||(l=a[t]=f[t](o),l.c()),T(l,1),l.m(e,null))},i(o){r||(T(l),r=!0)},o(o){L(l),r=!1},d(o){o&&c(e),a[t].d()}}}function ta(s){let e,t;return e=new kl({props:{className:"size-2"}}),{c(){ae(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,r){oe(e,l,r),t=!0},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){ie(e,l)}}}function la(s){let e,t;return e=new xt({props:{className:"size-2"}}),{c(){ae(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,r){oe(e,l,r),t=!0},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){ie(e,l)}}}function sa(s){let e,t,l;return t=new xt({props:{className:"size-2"}}),{c(){e=d("span"),ae(t.$$.fragment),this.h()},l(r){e=_(r,"SPAN",{class:!0});var f=m(e);ne(t.$$.fragment,f),f.forEach(c),this.h()},h(){u(e,"class","invisible")},m(r,f){F(r,e,f),oe(t,e,null),l=!0},p:We,i(r){l||(T(t.$$.fragment,r),l=!0)},o(r){L(t.$$.fragment,r),l=!1},d(r){r&&c(e),ie(t)}}}function ra(s){let e,t,l,r;const f=[na,aa],a=[];function i(o,h){return o[4]==="asc"?0:1}return t=i(s),l=a[t]=f[t](s),{c(){e=d("span"),l.c(),this.h()},l(o){e=_(o,"SPAN",{class:!0});var h=m(e);l.l(h),h.forEach(c),this.h()},h(){u(e,"class","font-normal")},m(o,h){F(o,e,h),a[t].m(e,null),r=!0},p(o,h){let v=t;t=i(o),t!==v&&(Pe(),L(a[v],1,1,()=>{a[v]=null}),He(),l=a[t],l||(l=a[t]=f[t](o),l.c()),T(l,1),l.m(e,null))},i(o){r||(T(l),r=!0)},o(o){L(l),r=!1},d(o){o&&c(e),a[t].d()}}}function aa(s){let e,t;return e=new kl({props:{className:"size-2"}}),{c(){ae(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,r){oe(e,l,r),t=!0},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){ie(e,l)}}}function na(s){let e,t;return e=new xt({props:{className:"size-2"}}),{c(){ae(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,r){oe(e,l,r),t=!0},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){ie(e,l)}}}function oa(s){let e,t,l;return t=new xt({props:{className:"size-2"}}),{c(){e=d("span"),ae(t.$$.fragment),this.h()},l(r){e=_(r,"SPAN",{class:!0});var f=m(e);ne(t.$$.fragment,f),f.forEach(c),this.h()},h(){u(e,"class","invisible")},m(r,f){F(r,e,f),oe(t,e,null),l=!0},p:We,i(r){l||(T(t.$$.fragment,r),l=!0)},o(r){L(t.$$.fragment,r),l=!1},d(r){r&&c(e),ie(t)}}}function ia(s){let e,t,l,r;const f=[fa,ua],a=[];function i(o,h){return o[4]==="asc"?0:1}return t=i(s),l=a[t]=f[t](s),{c(){e=d("span"),l.c(),this.h()},l(o){e=_(o,"SPAN",{class:!0});var h=m(e);l.l(h),h.forEach(c),this.h()},h(){u(e,"class","font-normal")},m(o,h){F(o,e,h),a[t].m(e,null),r=!0},p(o,h){let v=t;t=i(o),t!==v&&(Pe(),L(a[v],1,1,()=>{a[v]=null}),He(),l=a[t],l||(l=a[t]=f[t](o),l.c()),T(l,1),l.m(e,null))},i(o){r||(T(l),r=!0)},o(o){L(l),r=!1},d(o){o&&c(e),a[t].d()}}}function ua(s){let e,t;return e=new kl({props:{className:"size-2"}}),{c(){ae(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,r){oe(e,l,r),t=!0},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){ie(e,l)}}}function fa(s){let e,t;return e=new xt({props:{className:"size-2"}}),{c(){ae(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,r){oe(e,l,r),t=!0},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){ie(e,l)}}}function ps(s){let e,t;return e=new pl({props:{content:s[12].t("Chats"),$$slots:{default:[ca]},$$scope:{ctx:s}}}),{c(){ae(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,r){oe(e,l,r),t=!0},p(l,r){const f={};r[0]&4096&&(f.content=l[12].t("Chats")),r[0]&1312|r[1]&4096&&(f.$$scope={dirty:r,ctx:l}),e.$set(f)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){ie(e,l)}}}function ca(s){let e,t,l,r,f;t=new fr({});function a(){return s[36](s[40])}return{c(){e=d("button"),ae(t.$$.fragment),this.h()},l(i){e=_(i,"BUTTON",{class:!0});var o=m(e);ne(t.$$.fragment,o),o.forEach(c),this.h()},h(){u(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(i,o){F(i,e,o),oe(t,e,null),l=!0,r||(f=Ee(e,"click",a),r=!0)},p(i,o){s=i},i(i){l||(T(t.$$.fragment,i),l=!0)},o(i){L(t.$$.fragment,i),l=!1},d(i){i&&c(e),ie(t),r=!1,f()}}}function da(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"></path></svg>',l,r;function f(){return s[37](s[40])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(a){e=_(a,"BUTTON",{class:!0,"data-svelte-h":!0}),ft(e)!=="svelte-ow16l9"&&(e.innerHTML=t),this.h()},h(){u(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(a,i){F(a,e,i),l||(r=Ee(e,"click",f),l=!0)},p(a,i){s=a},d(a){a&&c(e),l=!1,r()}}}function vs(s){let e,t;return e=new pl({props:{content:s[12].t("Delete User"),$$slots:{default:[_a]},$$scope:{ctx:s}}}),{c(){ae(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,r){oe(e,l,r),t=!0},p(l,r){const f={};r[0]&4096&&(f.content=l[12].t("Delete User")),r[0]&1120|r[1]&4096&&(f.$$scope={dirty:r,ctx:l}),e.$set(f)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){ie(e,l)}}}function _a(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,r;function f(){return s[38](s[40])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(a){e=_(a,"BUTTON",{class:!0,"data-svelte-h":!0}),ft(e)!=="svelte-8s8zkf"&&(e.innerHTML=t),this.h()},h(){u(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(a,i){F(a,e,i),l||(r=Ee(e,"click",f),l=!0)},p(a,i){s=a},d(a){a&&c(e),l=!1,r()}}}function gs(s){let e,t,l,r,f,a,i,o,h,v,g,p,w,V,U,I=s[40].name+"",$,x,b,k=s[40].email+"",D,G,S,C=St(s[40].last_active_at*1e3).fromNow()+"",z,ee,A,Z=St(s[40].created_at*1e3).format("LL")+"",j,te,P,M=(s[40].oauth_sub??"")+"",K,ue,de,R,Q,B,he,ve,pe,ge,O;r=new es({props:{type:s[40].role==="admin"?"info":s[40].role==="user"?"success":"muted",content:s[12].t(s[40].role)}});function H(){return s[34](s[40])}o=new es({props:{type:"info",content:s[40].push===1?"撤回":"推送"}});function q(){return s[35](s[40])}let J=s[13].features.enable_admin_chat_access&&s[40].role!=="admin"&&ps(s);B=new pl({props:{content:s[12].t("Edit User"),$$slots:{default:[da]},$$scope:{ctx:s}}});let _e=s[40].role!=="admin"&&vs(s);return{c(){e=d("tr"),t=d("td"),l=d("button"),ae(r.$$.fragment),f=E(),a=d("td"),i=d("button"),ae(o.$$.fragment),h=E(),v=d("td"),g=d("div"),p=d("img"),V=E(),U=d("div"),$=W(I),x=E(),b=d("td"),D=W(k),G=E(),S=d("td"),z=W(C),ee=E(),A=d("td"),j=W(Z),te=E(),P=d("td"),K=W(M),ue=E(),de=d("td"),R=d("div"),J&&J.c(),Q=E(),ae(B.$$.fragment),he=E(),_e&&_e.c(),ve=E(),this.h()},l(ke){e=_(ke,"TR",{class:!0});var fe=m(e);t=_(fe,"TD",{class:!0});var we=m(t);l=_(we,"BUTTON",{class:!0});var le=m(l);ne(r.$$.fragment,le),le.forEach(c),we.forEach(c),f=y(fe),a=_(fe,"TD",{class:!0});var ce=m(a);i=_(ce,"BUTTON",{class:!0});var Te=m(i);ne(o.$$.fragment,Te),Te.forEach(c),ce.forEach(c),h=y(fe),v=_(fe,"TD",{class:!0});var Ie=m(v);g=_(Ie,"DIV",{class:!0});var Ue=m(g);p=_(Ue,"IMG",{class:!0,src:!0,alt:!0}),V=y(Ue),U=_(Ue,"DIV",{class:!0});var Ke=m(U);$=Y(Ke,I),Ke.forEach(c),Ue.forEach(c),Ie.forEach(c),x=y(fe),b=_(fe,"TD",{class:!0});var Le=m(b);D=Y(Le,k),Le.forEach(c),G=y(fe),S=_(fe,"TD",{class:!0});var Ve=m(S);z=Y(Ve,C),Ve.forEach(c),ee=y(fe),A=_(fe,"TD",{class:!0});var xe=m(A);j=Y(xe,Z),xe.forEach(c),te=y(fe),P=_(fe,"TD",{class:!0});var je=m(P);K=Y(je,M),je.forEach(c),ue=y(fe),de=_(fe,"TD",{class:!0});var Me=m(de);R=_(Me,"DIV",{class:!0});var Ne=m(R);J&&J.l(Ne),Q=y(Ne),ne(B.$$.fragment,Ne),he=y(Ne),_e&&_e.l(Ne),Ne.forEach(c),Me.forEach(c),ve=y(fe),fe.forEach(c),this.h()},h(){u(l,"class","translate-y-0.5"),u(t,"class","px-3 py-1 min-w-[7rem] w-28"),u(i,"class","translate-y-0.5"),u(a,"class","px-3 py-1"),u(p,"class","rounded-full w-6 h-6 object-cover mr-2.5"),Il(p.src,w=s[40].profile_image_url.startsWith(jl)||s[40].profile_image_url.startsWith("https://www.gravatar.com/avatar/")||s[40].profile_image_url.startsWith("data:")?s[40].profile_image_url:"/user.png")||u(p,"src",w),u(p,"alt","user"),u(U,"class","font-medium self-center"),u(g,"class","flex flex-row w-max"),u(v,"class","px-3 py-1 font-medium text-gray-900 dark:text-white w-max"),u(b,"class","px-3 py-1"),u(S,"class","px-3 py-1"),u(A,"class","px-3 py-1"),u(P,"class","px-3 py-1"),u(R,"class","flex justify-end w-full"),u(de,"class","px-3 py-1 text-right"),u(e,"class","bg-white dark:bg-gray-900 dark:border-gray-850 text-xs")},m(ke,fe){F(ke,e,fe),n(e,t),n(t,l),oe(r,l,null),n(e,f),n(e,a),n(a,i),oe(o,i,null),n(e,h),n(e,v),n(v,g),n(g,p),n(g,V),n(g,U),n(U,$),n(e,x),n(e,b),n(b,D),n(e,G),n(e,S),n(S,z),n(e,ee),n(e,A),n(A,j),n(e,te),n(e,P),n(P,K),n(e,ue),n(e,de),n(de,R),J&&J.m(R,null),n(R,Q),oe(B,R,null),n(R,he),_e&&_e.m(R,null),n(e,ve),pe=!0,ge||(O=[Ee(l,"click",H),Ee(i,"click",q)],ge=!0)},p(ke,fe){s=ke;const we={};fe[0]&1024&&(we.type=s[40].role==="admin"?"info":s[40].role==="user"?"success":"muted"),fe[0]&5120&&(we.content=s[12].t(s[40].role)),r.$set(we);const le={};fe[0]&1024&&(le.content=s[40].push===1?"撤回":"推送"),o.$set(le),(!pe||fe[0]&1024&&!Il(p.src,w=s[40].profile_image_url.startsWith(jl)||s[40].profile_image_url.startsWith("https://www.gravatar.com/avatar/")||s[40].profile_image_url.startsWith("data:")?s[40].profile_image_url:"/user.png"))&&u(p,"src",w),(!pe||fe[0]&1024)&&I!==(I=s[40].name+"")&&X($,I),(!pe||fe[0]&1024)&&k!==(k=s[40].email+"")&&X(D,k),(!pe||fe[0]&1024)&&C!==(C=St(s[40].last_active_at*1e3).fromNow()+"")&&X(z,C),(!pe||fe[0]&1024)&&Z!==(Z=St(s[40].created_at*1e3).format("LL")+"")&&X(j,Z),(!pe||fe[0]&1024)&&M!==(M=(s[40].oauth_sub??"")+"")&&X(K,M),s[13].features.enable_admin_chat_access&&s[40].role!=="admin"?J?(J.p(s,fe),fe[0]&9216&&T(J,1)):(J=ps(s),J.c(),T(J,1),J.m(R,Q)):J&&(Pe(),L(J,1,1,()=>{J=null}),He());const ce={};fe[0]&4096&&(ce.content=s[12].t("Edit User")),fe[0]&1568|fe[1]&4096&&(ce.$$scope={dirty:fe,ctx:s}),B.$set(ce),s[40].role!=="admin"?_e?(_e.p(s,fe),fe[0]&1024&&T(_e,1)):(_e=vs(s),_e.c(),T(_e,1),_e.m(R,null)):_e&&(Pe(),L(_e,1,1,()=>{_e=null}),He())},i(ke){pe||(T(r.$$.fragment,ke),T(o.$$.fragment,ke),T(J),T(B.$$.fragment,ke),T(_e),pe=!0)},o(ke){L(r.$$.fragment,ke),L(o.$$.fragment,ke),L(J),L(B.$$.fragment,ke),L(_e),pe=!1},d(ke){ke&&c(e),ie(r),ie(o),J&&J.d(),ie(B),_e&&_e.d(),ge=!1,Kt(O)}}}function ha(s){let e,t,l,r=s[5],f,a,i,o,h,v,g,p,w,V=s[12].t("Users")+"",U,I,$,x,b,k=s[0].length+"",D,G,S,C,z,ee,A='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',Z,j,te,P,M,K,ue,de,R,Q,B,he,ve,pe=s[12].t("Role")+"",ge,O,H,q,J,_e,ke,fe,we,le,ce,Te,Ie,Ue=s[12].t("Name")+"",Ke,Le,Ve,xe,je,Me,Ne,st=s[12].t("Email")+"",me,De,be,$e,it,Qe,Ge,Et=s[12].t("Last Active")+"",Ze,et,Oe,qe,vt,ut,ze,_t=s[12].t("Created at")+"",jt,Gt,rt,Re,Tt,ct,ht,Bt=s[12].t("OAuth ID")+"",gt,Nt,dt,mt,vl,wt,gl,Ot,Ct,yt,ll,Qt=s[12].t("Click on the user role button to change a user's role.")+"",cl,Dt,Ut,wl,Xe,Jt,dl;function $l(N){s[19](N)}let El={};s[6]!==void 0&&(El.show=s[6]),e=new Js({props:El}),Ae.push(()=>Be(e,"show",$l)),e.$on("confirm",s[20]);let tt=ms(s);function xl(N){s[23](N)}let at={};s[7]!==void 0&&(at.show=s[7]),a=new Ar({props:at}),Ae.push(()=>Be(a,"show",xl)),a.$on("save",s[24]);function Ql(N){s[25](N)}let Tl={user:s[5]};s[8]!==void 0&&(Tl.show=s[8]),h=new Vr({props:Tl}),Ae.push(()=>Be(h,"show",Ql)),K=new pl({props:{content:s[12].t("Add User"),$$slots:{default:[Sr]},$$scope:{ctx:s}}});const Ol=[Pr,Br],Rt=[];function Rl(N,re){return N[3]==="role"?0:1}H=Rl(s),q=Rt[H]=Ol[H](s);const Nl=[Gr,jr],Xt=[];function Cl(N,re){return N[3]==="role"?0:1}we=Cl(s),le=Xt[we]=Nl[we](s);const Zl=[qr,Zr],Zt=[];function ql(N,re){return N[3]==="name"?0:1}Ve=ql(s),xe=Zt[Ve]=Zl[Ve](s);const Ul=[Kr,Fr],el=[];function Ll(N,re){return N[3]==="email"?0:1}be=Ll(s),$e=el[be]=Ul[be](s);const Wl=[ea,Xr],qt=[];function Yl(N,re){return N[3]==="last_active_at"?0:1}Oe=Yl(s),qe=qt[Oe]=Wl[Oe](s);const Ml=[ra,sa],tl=[];function Al(N,re){return N[3]==="created_at"?0:1}rt=Al(s),Re=tl[rt]=Ml[rt](s);const Fl=[ia,oa],Wt=[];function se(N,re){return N[3]==="oauth_sub"?0:1}dt=se(s),mt=Wt[dt]=Fl[dt](s);let ye=ml(s[10]),Ce=[];for(let N=0;N<ye.length;N+=1)Ce[N]=gs(hs(s,ye,N));const bl=N=>L(Ce[N],1,1,()=>{Ce[N]=null});function sl(N){s[39](N)}let rl={count:s[0].length};return s[2]!==void 0&&(rl.page=s[2]),Ut=new Fs({props:rl}),Ae.push(()=>Be(Ut,"page",sl)),{c(){ae(e.$$.fragment),l=E(),tt.c(),f=E(),ae(a.$$.fragment),o=E(),ae(h.$$.fragment),g=E(),p=d("div"),w=d("div"),U=W(V),I=E(),$=d("div"),x=E(),b=d("span"),D=W(k),G=E(),S=d("div"),C=d("div"),z=d("div"),ee=d("div"),ee.innerHTML=A,Z=E(),j=d("input"),P=E(),M=d("div"),ae(K.$$.fragment),ue=E(),de=d("div"),R=d("table"),Q=d("thead"),B=d("tr"),he=d("th"),ve=d("div"),ge=W(pe),O=E(),q.c(),J=E(),_e=d("th"),ke=d("div"),fe=W(`门户页授权
						`),le.c(),ce=E(),Te=d("th"),Ie=d("div"),Ke=W(Ue),Le=E(),xe.c(),je=E(),Me=d("th"),Ne=d("div"),me=W(st),De=E(),$e.c(),it=E(),Qe=d("th"),Ge=d("div"),Ze=W(Et),et=E(),qe.c(),vt=E(),ut=d("th"),ze=d("div"),jt=W(_t),Gt=E(),Re.c(),Tt=E(),ct=d("th"),ht=d("div"),gt=W(Bt),Nt=E(),mt.c(),vl=E(),wt=d("th"),gl=E(),Ot=d("tbody");for(let N=0;N<Ce.length;N+=1)Ce[N].c();Ct=E(),yt=d("div"),ll=W("ⓘ "),cl=W(Qt),Dt=E(),ae(Ut.$$.fragment),this.h()},l(N){ne(e.$$.fragment,N),l=y(N),tt.l(N),f=y(N),ne(a.$$.fragment,N),o=y(N),ne(h.$$.fragment,N),g=y(N),p=_(N,"DIV",{class:!0});var re=m(p);w=_(re,"DIV",{class:!0});var lt=m(w);U=Y(lt,V),I=y(lt),$=_(lt,"DIV",{class:!0}),m($).forEach(c),x=y(lt),b=_(lt,"SPAN",{class:!0});var Yt=m(b);D=Y(Yt,k),Yt.forEach(c),lt.forEach(c),G=y(re),S=_(re,"DIV",{class:!0});var Pt=m(S);C=_(Pt,"DIV",{class:!0});var Je=m(C);z=_(Je,"DIV",{class:!0});var It=m(z);ee=_(It,"DIV",{class:!0,"data-svelte-h":!0}),ft(ee)!=="svelte-8l37wj"&&(ee.innerHTML=A),Z=y(It),j=_(It,"INPUT",{class:!0,placeholder:!0}),It.forEach(c),P=y(Je),M=_(Je,"DIV",{});var Vt=m(M);ne(K.$$.fragment,Vt),Vt.forEach(c),Je.forEach(c),Pt.forEach(c),re.forEach(c),ue=y(N),de=_(N,"DIV",{class:!0});var al=m(de);R=_(al,"TABLE",{class:!0});var Lt=m(R);Q=_(Lt,"THEAD",{class:!0});var nl=m(Q);B=_(nl,"TR",{class:!0});var Ye=m(B);he=_(Ye,"TH",{scope:!0,class:!0});var ol=m(he);ve=_(ol,"DIV",{class:!0});var Mt=m(ve);ge=Y(Mt,pe),O=y(Mt),q.l(Mt),Mt.forEach(c),ol.forEach(c),J=y(Ye),_e=_(Ye,"TH",{scope:!0,class:!0});var nt=m(_e);ke=_(nt,"DIV",{class:!0});var Ft=m(ke);fe=Y(Ft,`门户页授权
						`),le.l(Ft),Ft.forEach(c),nt.forEach(c),ce=y(Ye),Te=_(Ye,"TH",{scope:!0,class:!0});var Sl=m(Te);Ie=_(Sl,"DIV",{class:!0});var At=m(Ie);Ke=Y(At,Ue),Le=y(At),xe.l(At),At.forEach(c),Sl.forEach(c),je=y(Ye),Me=_(Ye,"TH",{scope:!0,class:!0});var Bl=m(Me);Ne=_(Bl,"DIV",{class:!0});var il=m(Ne);me=Y(il,st),De=y(il),$e.l(il),il.forEach(c),Bl.forEach(c),it=y(Ye),Qe=_(Ye,"TH",{scope:!0,class:!0});var Pl=m(Qe);Ge=_(Pl,"DIV",{class:!0});var ul=m(Ge);Ze=Y(ul,Et),et=y(ul),qe.l(ul),ul.forEach(c),Pl.forEach(c),vt=y(Ye),ut=_(Ye,"TH",{scope:!0,class:!0});var Hl=m(ut);ze=_(Hl,"DIV",{class:!0});var fl=m(ze);jt=Y(fl,_t),Gt=y(fl),Re.l(fl),fl.forEach(c),Hl.forEach(c),Tt=y(Ye),ct=_(Ye,"TH",{scope:!0,class:!0});var zl=m(ct);ht=_(zl,"DIV",{class:!0});var Kl=m(ht);gt=Y(Kl,Bt),Nt=y(Kl),mt.l(Kl),Kl.forEach(c),zl.forEach(c),vl=y(Ye),wt=_(Ye,"TH",{scope:!0,class:!0}),m(wt).forEach(c),Ye.forEach(c),nl.forEach(c),gl=y(Lt),Ot=_(Lt,"TBODY",{class:!0});var as=m(Ot);for(let Xl=0;Xl<Ce.length;Xl+=1)Ce[Xl].l(as);as.forEach(c),Lt.forEach(c),al.forEach(c),Ct=y(N),yt=_(N,"DIV",{class:!0});var Jl=m(yt);ll=Y(Jl,"ⓘ "),cl=Y(Jl,Qt),Jl.forEach(c),Dt=y(N),ne(Ut.$$.fragment,N),this.h()},h(){u($,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850"),u(b,"class","text-lg font-medium text-gray-500 dark:text-gray-300"),u(w,"class","flex md:self-center text-lg font-medium px-0.5"),u(ee,"class","self-center ml-1 mr-3"),u(j,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent"),u(j,"placeholder",te=s[12].t("Search")),u(z,"class","flex flex-1"),u(C,"class","flex w-full space-x-2"),u(S,"class","flex gap-1"),u(p,"class","mt-0.5 mb-2 gap-1 flex flex-col md:flex-row justify-between"),u(ve,"class","flex gap-1.5 items-center"),u(he,"scope","col"),u(he,"class","px-3 py-1.5 cursor-pointer select-none"),u(ke,"class","flex gap-1.5 items-center"),u(_e,"scope","col"),u(_e,"class","px-3 py-1.5 cursor-pointer select-none"),u(Ie,"class","flex gap-1.5 items-center"),u(Te,"scope","col"),u(Te,"class","px-3 py-1.5 cursor-pointer select-none"),u(Ne,"class","flex gap-1.5 items-center"),u(Me,"scope","col"),u(Me,"class","px-3 py-1.5 cursor-pointer select-none"),u(Ge,"class","flex gap-1.5 items-center"),u(Qe,"scope","col"),u(Qe,"class","px-3 py-1.5 cursor-pointer select-none"),u(ze,"class","flex gap-1.5 items-center"),u(ut,"scope","col"),u(ut,"class","px-3 py-1.5 cursor-pointer select-none"),u(ht,"class","flex gap-1.5 items-center"),u(ct,"scope","col"),u(ct,"class","px-3 py-1.5 cursor-pointer select-none"),u(wt,"scope","col"),u(wt,"class","px-3 py-2 text-right"),u(B,"class",""),u(Q,"class","text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-850 dark:text-gray-400 -translate-y-0.5"),u(Ot,"class",""),u(R,"class","w-full text-sm text-left text-gray-500 dark:text-gray-400 table-auto max-w-full rounded-sm"),u(de,"class","scrollbar-hidden relative whitespace-nowrap overflow-x-auto max-w-full rounded-sm pt-0.5"),u(yt,"class","text-gray-500 text-xs mt-1.5 text-right")},m(N,re){oe(e,N,re),F(N,l,re),tt.m(N,re),F(N,f,re),oe(a,N,re),F(N,o,re),oe(h,N,re),F(N,g,re),F(N,p,re),n(p,w),n(w,U),n(w,I),n(w,$),n(w,x),n(w,b),n(b,D),n(p,G),n(p,S),n(S,C),n(C,z),n(z,ee),n(z,Z),n(z,j),Fe(j,s[1]),n(C,P),n(C,M),oe(K,M,null),F(N,ue,re),F(N,de,re),n(de,R),n(R,Q),n(Q,B),n(B,he),n(he,ve),n(ve,ge),n(ve,O),Rt[H].m(ve,null),n(B,J),n(B,_e),n(_e,ke),n(ke,fe),Xt[we].m(ke,null),n(B,ce),n(B,Te),n(Te,Ie),n(Ie,Ke),n(Ie,Le),Zt[Ve].m(Ie,null),n(B,je),n(B,Me),n(Me,Ne),n(Ne,me),n(Ne,De),el[be].m(Ne,null),n(B,it),n(B,Qe),n(Qe,Ge),n(Ge,Ze),n(Ge,et),qt[Oe].m(Ge,null),n(B,vt),n(B,ut),n(ut,ze),n(ze,jt),n(ze,Gt),tl[rt].m(ze,null),n(B,Tt),n(B,ct),n(ct,ht),n(ht,gt),n(ht,Nt),Wt[dt].m(ht,null),n(B,vl),n(B,wt),n(R,gl),n(R,Ot);for(let lt=0;lt<Ce.length;lt+=1)Ce[lt]&&Ce[lt].m(Ot,null);F(N,Ct,re),F(N,yt,re),n(yt,ll),n(yt,cl),F(N,Dt,re),oe(Ut,N,re),Xe=!0,Jt||(dl=[Ee(j,"input",s[26]),Ee(he,"click",s[28]),Ee(Te,"click",s[29]),Ee(Me,"click",s[30]),Ee(Qe,"click",s[31]),Ee(ut,"click",s[32]),Ee(ct,"click",s[33])],Jt=!0)},p(N,re){const lt={};!t&&re[0]&64&&(t=!0,lt.show=N[6],Se(()=>t=!1)),e.$set(lt),re[0]&32&&pt(r,r=N[5])?(Pe(),L(tt,1,1,We),He(),tt=ms(N),tt.c(),T(tt,1),tt.m(f.parentNode,f)):tt.p(N,re);const Yt={};!i&&re[0]&128&&(i=!0,Yt.show=N[7],Se(()=>i=!1)),a.$set(Yt);const Pt={};re[0]&32&&(Pt.user=N[5]),!v&&re[0]&256&&(v=!0,Pt.show=N[8],Se(()=>v=!1)),h.$set(Pt),(!Xe||re[0]&4096)&&V!==(V=N[12].t("Users")+"")&&X(U,V),(!Xe||re[0]&1)&&k!==(k=N[0].length+"")&&X(D,k),(!Xe||re[0]&4096&&te!==(te=N[12].t("Search")))&&u(j,"placeholder",te),re[0]&2&&j.value!==N[1]&&Fe(j,N[1]);const Je={};re[0]&4096&&(Je.content=N[12].t("Add User")),re[0]&128|re[1]&4096&&(Je.$$scope={dirty:re,ctx:N}),K.$set(Je),(!Xe||re[0]&4096)&&pe!==(pe=N[12].t("Role")+"")&&X(ge,pe);let It=H;H=Rl(N),H===It?Rt[H].p(N,re):(Pe(),L(Rt[It],1,1,()=>{Rt[It]=null}),He(),q=Rt[H],q?q.p(N,re):(q=Rt[H]=Ol[H](N),q.c()),T(q,1),q.m(ve,null));let Vt=we;we=Cl(N),we===Vt?Xt[we].p(N,re):(Pe(),L(Xt[Vt],1,1,()=>{Xt[Vt]=null}),He(),le=Xt[we],le?le.p(N,re):(le=Xt[we]=Nl[we](N),le.c()),T(le,1),le.m(ke,null)),(!Xe||re[0]&4096)&&Ue!==(Ue=N[12].t("Name")+"")&&X(Ke,Ue);let al=Ve;Ve=ql(N),Ve===al?Zt[Ve].p(N,re):(Pe(),L(Zt[al],1,1,()=>{Zt[al]=null}),He(),xe=Zt[Ve],xe?xe.p(N,re):(xe=Zt[Ve]=Zl[Ve](N),xe.c()),T(xe,1),xe.m(Ie,null)),(!Xe||re[0]&4096)&&st!==(st=N[12].t("Email")+"")&&X(me,st);let Lt=be;be=Ll(N),be===Lt?el[be].p(N,re):(Pe(),L(el[Lt],1,1,()=>{el[Lt]=null}),He(),$e=el[be],$e?$e.p(N,re):($e=el[be]=Ul[be](N),$e.c()),T($e,1),$e.m(Ne,null)),(!Xe||re[0]&4096)&&Et!==(Et=N[12].t("Last Active")+"")&&X(Ze,Et);let nl=Oe;Oe=Yl(N),Oe===nl?qt[Oe].p(N,re):(Pe(),L(qt[nl],1,1,()=>{qt[nl]=null}),He(),qe=qt[Oe],qe?qe.p(N,re):(qe=qt[Oe]=Wl[Oe](N),qe.c()),T(qe,1),qe.m(Ge,null)),(!Xe||re[0]&4096)&&_t!==(_t=N[12].t("Created at")+"")&&X(jt,_t);let Ye=rt;rt=Al(N),rt===Ye?tl[rt].p(N,re):(Pe(),L(tl[Ye],1,1,()=>{tl[Ye]=null}),He(),Re=tl[rt],Re?Re.p(N,re):(Re=tl[rt]=Ml[rt](N),Re.c()),T(Re,1),Re.m(ze,null)),(!Xe||re[0]&4096)&&Bt!==(Bt=N[12].t("OAuth ID")+"")&&X(gt,Bt);let ol=dt;if(dt=se(N),dt===ol?Wt[dt].p(N,re):(Pe(),L(Wt[ol],1,1,()=>{Wt[ol]=null}),He(),mt=Wt[dt],mt?mt.p(N,re):(mt=Wt[dt]=Fl[dt](N),mt.c()),T(mt,1),mt.m(ht,null)),re[0]&112480){ye=ml(N[10]);let nt;for(nt=0;nt<ye.length;nt+=1){const Ft=hs(N,ye,nt);Ce[nt]?(Ce[nt].p(Ft,re),T(Ce[nt],1)):(Ce[nt]=gs(Ft),Ce[nt].c(),T(Ce[nt],1),Ce[nt].m(Ot,null))}for(Pe(),nt=ye.length;nt<Ce.length;nt+=1)bl(nt);He()}(!Xe||re[0]&4096)&&Qt!==(Qt=N[12].t("Click on the user role button to change a user's role.")+"")&&X(cl,Qt);const Mt={};re[0]&1&&(Mt.count=N[0].length),!wl&&re[0]&4&&(wl=!0,Mt.page=N[2],Se(()=>wl=!1)),Ut.$set(Mt)},i(N){if(!Xe){T(e.$$.fragment,N),T(tt),T(a.$$.fragment,N),T(h.$$.fragment,N),T(K.$$.fragment,N),T(q),T(le),T(xe),T($e),T(qe),T(Re),T(mt);for(let re=0;re<ye.length;re+=1)T(Ce[re]);T(Ut.$$.fragment,N),Xe=!0}},o(N){L(e.$$.fragment,N),L(tt),L(a.$$.fragment,N),L(h.$$.fragment,N),L(K.$$.fragment,N),L(q),L(le),L(xe),L($e),L(qe),L(Re),L(mt),Ce=Ce.filter(Boolean);for(let re=0;re<Ce.length;re+=1)L(Ce[re]);L(Ut.$$.fragment,N),Xe=!1},d(N){N&&(c(l),c(f),c(o),c(g),c(p),c(ue),c(de),c(Ct),c(yt),c(Dt)),ie(e,N),tt.d(N),ie(a,N),ie(h,N),ie(K),Rt[H].d(),Xt[we].d(),Zt[Ve].d(),el[be].d(),qt[Oe].d(),tl[rt].d(),Wt[dt].d(),ls(Ce,N),ie(Ut,N),Jt=!1,Kt(dl)}}}function ma(s,e,t){let l,r,f;bt(s,ss,O=>t(11,l=O)),bt(s,zs,O=>t(13,f=O)),St.extend(Ms),St.extend(rs);const a=zt("i18n");bt(s,a,O=>t(12,r=O));let{users:i=[]}=e,o="",h=null,v=1,g=!1,p=!1,w=!1,V=!1;const U=async(O,H)=>{await Gs(localStorage.token,O,H).catch(J=>(ot.error(`${J}`),null))&&t(0,i=await _l(localStorage.token))},I=async(O,H)=>{H!=1?(await Os(O).catch(J=>(ot.error(`${J}`),null))&&ot.success("门户页权限授权成功"),t(0,i=await _l(localStorage.token))):(await Rs(O).catch(J=>(ot.error(`${J}`),null))&&ot.success("门户页权限授权成功"),t(0,i=await _l(localStorage.token)))},$=async O=>{await Zs(localStorage.token,O).catch(q=>(ot.error(`${q}`),null))&&t(0,i=await _l(localStorage.token))};let x="created_at",b="asc";function k(O){x===O?t(4,b=b==="asc"?"desc":"asc"):(t(3,x=O),t(4,b="asc"))}let D;function G(O){g=O,t(6,g)}const S=()=>{$(h.id)};function C(O){V=O,t(9,V)}const z=async()=>{t(0,i=await _l(localStorage.token))};function ee(O){p=O,t(7,p)}const A=async()=>{t(0,i=await _l(localStorage.token))};function Z(O){w=O,t(8,w)}function j(){o=this.value,t(1,o)}const te=()=>{t(7,p=!p)},P=()=>k("role"),M=()=>k("name"),K=()=>k("email"),ue=()=>k("last_active_at"),de=()=>k("created_at"),R=()=>k("oauth_sub"),Q=O=>{O.role==="user"?U(O.id,"admin"):O.role==="pending"?U(O.id,"user"):U(O.id,"pending")},B=O=>{I(O.email,O.push)},he=async O=>{t(8,w=!w),t(5,h=O)},ve=async O=>{t(9,V=!V),t(5,h=O)},pe=async O=>{t(6,g=!0),t(5,h=O)};function ge(O){v=O,t(2,v)}return s.$$set=O=>{"users"in O&&t(0,i=O.users)},s.$$.update=()=>{s.$$.dirty[0]&31&&t(10,D=i.filter(O=>{if(o==="")return!0;{let H=O.name.toLowerCase(),q=O.email.toLowerCase();const J=o.toLowerCase();return H.includes(J)||q.includes(J)}}).sort((O,H)=>x=="role"?O[x]=="pending"?b==="asc"?1:-1:H[x]=="pending"||O[x]<H[x]?b==="asc"?-1:1:O[x]>H[x]?b==="asc"?1:-1:0:O[x]<H[x]?b==="asc"?-1:1:O[x]>H[x]?b==="asc"?1:-1:0).slice((v-1)*20,v*20))},[i,o,v,x,b,h,g,p,w,V,D,l,r,f,a,U,I,$,k,G,S,C,z,ee,A,Z,j,te,P,M,K,ue,de,R,Q,B,he,ve,pe,ge]}class pa extends kt{constructor(e){super(),$t(this,e,ma,ha,pt,{users:0},null,[-1,-1])}}function va(s){let e,t;return{c(){e=yl("svg"),t=yl("path"),this.h()},l(l){e=Dl(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=m(e);t=Dl(r,"path",{d:!0}),m(t).forEach(c),r.forEach(c),this.h()},h(){u(t,"d","M4.5 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM14.25 8.625a3.375 3.375 0 1 1 6.75 0 3.375 3.375 0 0 1-6.75 0ZM1.5 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM17.25 19.128l-.001.144a2.25 2.25 0 0 1-.233.96 10.088 10.088 0 0 0 5.06-1.01.75.75 0 0 0 .42-.643 4.875 4.875 0 0 0-6.957-4.611 8.586 8.586 0 0 1 1.71 5.157v.003Z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 24 24"),u(e,"fill","currentColor"),u(e,"class",s[0])},m(l,r){F(l,e,r),n(e,t)},p(l,[r]){r&1&&u(e,"class",l[0])},i:We,o:We,d(l){l&&c(e)}}}function ga(s,e,t){let{className:l="size-4"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className)},[l]}class wa extends kt{constructor(e){super(),$t(this,e,ga,va,pt,{className:0})}}function ba(s){let e,t,l,r=s[2].t("Name")+"",f,a,i,o,h,v,g,p,w=s[2].t("Description")+"",V,U,I,$,x,b,k,D;function G(C){s[6](C)}let S={className:"w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden resize-none",rows:4,placeholder:s[2].t("Group Description")};return s[1]!==void 0&&(S.value=s[1]),$=new Ss({props:S}),Ae.push(()=>Be($,"value",G)),{c(){e=d("div"),t=d("div"),l=d("div"),f=W(r),a=E(),i=d("div"),o=d("input"),v=E(),g=d("div"),p=d("div"),V=W(w),U=E(),I=d("div"),ae($.$$.fragment),this.h()},l(C){e=_(C,"DIV",{class:!0});var z=m(e);t=_(z,"DIV",{class:!0});var ee=m(t);l=_(ee,"DIV",{class:!0});var A=m(l);f=Y(A,r),A.forEach(c),a=y(ee),i=_(ee,"DIV",{class:!0});var Z=m(i);o=_(Z,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Z.forEach(c),ee.forEach(c),z.forEach(c),v=y(C),g=_(C,"DIV",{class:!0});var j=m(g);p=_(j,"DIV",{class:!0});var te=m(p);V=Y(te,w),te.forEach(c),U=y(j),I=_(j,"DIV",{class:!0});var P=m(I);ne($.$$.fragment,P),P.forEach(c),j.forEach(c),this.h()},h(){u(l,"class","mb-0.5 text-xs text-gray-500"),u(o,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),u(o,"type","text"),u(o,"placeholder",h=s[2].t("Group Name")),u(o,"autocomplete","off"),o.required=!0,u(i,"class","flex-1"),u(t,"class","flex flex-col w-full"),u(e,"class","flex gap-2"),u(p,"class","mb-1 text-xs text-gray-500"),u(I,"class","flex-1"),u(g,"class","flex flex-col w-full mt-2")},m(C,z){F(C,e,z),n(e,t),n(t,l),n(l,f),n(t,a),n(t,i),n(i,o),Fe(o,s[0]),F(C,v,z),F(C,g,z),n(g,p),n(p,V),n(g,U),n(g,I),oe($,I,null),b=!0,k||(D=Ee(o,"input",s[5]),k=!0)},p(C,[z]){(!b||z&4)&&r!==(r=C[2].t("Name")+"")&&X(f,r),(!b||z&4&&h!==(h=C[2].t("Group Name")))&&u(o,"placeholder",h),z&1&&o.value!==C[0]&&Fe(o,C[0]),(!b||z&4)&&w!==(w=C[2].t("Description")+"")&&X(V,w);const ee={};z&4&&(ee.placeholder=C[2].t("Group Description")),!x&&z&2&&(x=!0,ee.value=C[1],Se(()=>x=!1)),$.$set(ee)},i(C){b||(T($.$$.fragment,C),b=!0)},o(C){L($.$$.fragment,C),b=!1},d(C){C&&(c(e),c(v),c(g)),ie($),k=!1,D()}}}function ka(s,e,t){let l;const r=zt("i18n");bt(s,r,v=>t(2,l=v));let{name:f=""}=e,{color:a=""}=e,{description:i=""}=e;function o(){f=this.value,t(0,f)}function h(v){i=v,t(1,i)}return s.$$set=v=>{"name"in v&&t(0,f=v.name),"color"in v&&t(4,a=v.color),"description"in v&&t(1,i=v.description)},[f,i,l,r,a,o,h]}class $a extends kt{constructor(e){super(),$t(this,e,ka,ba,pt,{name:0,color:4,description:1})}}function Ea(s){let e,t=s[1].t("Tools Access")+"",l,r,f,a,i;function o(v){s[6](v)}let h={};return s[0].workspace.tools!==void 0&&(h.state=s[0].workspace.tools),f=new Ht({props:h}),Ae.push(()=>Be(f,"state",o)),{c(){e=d("div"),l=W(t),r=E(),ae(f.$$.fragment),this.h()},l(v){e=_(v,"DIV",{class:!0});var g=m(e);l=Y(g,t),g.forEach(c),r=y(v),ne(f.$$.fragment,v),this.h()},h(){u(e,"class","self-center text-xs font-medium")},m(v,g){F(v,e,g),n(e,l),F(v,r,g),oe(f,v,g),i=!0},p(v,g){(!i||g&2)&&t!==(t=v[1].t("Tools Access")+"")&&X(l,t);const p={};!a&&g&1&&(a=!0,p.state=v[0].workspace.tools,Se(()=>a=!1)),f.$set(p)},i(v){i||(T(f.$$.fragment,v),i=!0)},o(v){L(f.$$.fragment,v),i=!1},d(v){v&&(c(e),c(r)),ie(f,v)}}}function ya(s){let e,t,l,r=s[1].t("Workspace Permissions")+"",f,a,i,o,h=s[1].t("Models Access")+"",v,g,p,w,V,U,I,$=s[1].t("Knowledge Access")+"",x,b,k,D,G,S,C,z=s[1].t("Prompts Access")+"",ee,A,Z,j,te,P,M,K,ue,de,R,Q,B=s[1].t("Chat Permissions")+"",he,ve,pe,ge,O=s[1].t("Allow Chat Controls")+"",H,q,J,_e,ke,fe,we,le=s[1].t("Allow File Upload")+"",ce,Te,Ie,Ue,Ke,Le,Ve,xe=s[1].t("Allow Chat Delete")+"",je,Me,Ne,st,me,De,be,$e=s[1].t("Allow Chat Edit")+"",it,Qe,Ge,Et,Ze,et,Oe,qe=s[1].t("Allow Temporary Chat")+"",vt,ut,ze,_t,jt,Gt,rt,Re,Tt,ct=s[1].t("Features Permissions")+"",ht,Bt,gt,Nt,dt=s[1].t("Web Search")+"",mt,vl,wt,gl,Ot,Ct,yt,ll=s[1].t("Image Generation")+"",Qt,cl,Dt,Ut,wl,Xe,Jt,dl=s[1].t("Code Interpreter")+"",$l,El,tt,xl,at;function Ql(se){s[3](se)}let Tl={};s[0].workspace.models!==void 0&&(Tl.state=s[0].workspace.models),p=new Ht({props:Tl}),Ae.push(()=>Be(p,"state",Ql));function Ol(se){s[4](se)}let Rt={};s[0].workspace.knowledge!==void 0&&(Rt.state=s[0].workspace.knowledge),k=new Ht({props:Rt}),Ae.push(()=>Be(k,"state",Ol));function Rl(se){s[5](se)}let Nl={};s[0].workspace.prompts!==void 0&&(Nl.state=s[0].workspace.prompts),Z=new Ht({props:Nl}),Ae.push(()=>Be(Z,"state",Rl)),M=new pl({props:{className:" flex w-full justify-between my-2 pr-2",content:s[1].t("Warning: Enabling this will allow users to upload arbitrary code on the server."),placement:"top-start",$$slots:{default:[Ea]},$$scope:{ctx:s}}});function Xt(se){s[7](se)}let Cl={};s[0].chat.controls!==void 0&&(Cl.state=s[0].chat.controls),J=new Ht({props:Cl}),Ae.push(()=>Be(J,"state",Xt));function Zl(se){s[8](se)}let Zt={};s[0].chat.file_upload!==void 0&&(Zt.state=s[0].chat.file_upload),Ie=new Ht({props:Zt}),Ae.push(()=>Be(Ie,"state",Zl));function ql(se){s[9](se)}let Ul={};s[0].chat.delete!==void 0&&(Ul.state=s[0].chat.delete),Ne=new Ht({props:Ul}),Ae.push(()=>Be(Ne,"state",ql));function el(se){s[10](se)}let Ll={};s[0].chat.edit!==void 0&&(Ll.state=s[0].chat.edit),Ge=new Ht({props:Ll}),Ae.push(()=>Be(Ge,"state",el));function Wl(se){s[11](se)}let qt={};s[0].chat.temporary!==void 0&&(qt.state=s[0].chat.temporary),ze=new Ht({props:qt}),Ae.push(()=>Be(ze,"state",Wl));function Yl(se){s[12](se)}let Ml={};s[0].features.web_search!==void 0&&(Ml.state=s[0].features.web_search),wt=new Ht({props:Ml}),Ae.push(()=>Be(wt,"state",Yl));function tl(se){s[13](se)}let Al={};s[0].features.image_generation!==void 0&&(Al.state=s[0].features.image_generation),Dt=new Ht({props:Al}),Ae.push(()=>Be(Dt,"state",tl));function Fl(se){s[14](se)}let Wt={};return s[0].features.code_interpreter!==void 0&&(Wt.state=s[0].features.code_interpreter),tt=new Ht({props:Wt}),Ae.push(()=>Be(tt,"state",Fl)),{c(){e=d("div"),t=d("div"),l=d("div"),f=W(r),a=E(),i=d("div"),o=d("div"),v=W(h),g=E(),ae(p.$$.fragment),V=E(),U=d("div"),I=d("div"),x=W($),b=E(),ae(k.$$.fragment),G=E(),S=d("div"),C=d("div"),ee=W(z),A=E(),ae(Z.$$.fragment),te=E(),P=d("div"),ae(M.$$.fragment),K=E(),ue=d("hr"),de=E(),R=d("div"),Q=d("div"),he=W(B),ve=E(),pe=d("div"),ge=d("div"),H=W(O),q=E(),ae(J.$$.fragment),ke=E(),fe=d("div"),we=d("div"),ce=W(le),Te=E(),ae(Ie.$$.fragment),Ke=E(),Le=d("div"),Ve=d("div"),je=W(xe),Me=E(),ae(Ne.$$.fragment),me=E(),De=d("div"),be=d("div"),it=W($e),Qe=E(),ae(Ge.$$.fragment),Ze=E(),et=d("div"),Oe=d("div"),vt=W(qe),ut=E(),ae(ze.$$.fragment),jt=E(),Gt=d("hr"),rt=E(),Re=d("div"),Tt=d("div"),ht=W(ct),Bt=E(),gt=d("div"),Nt=d("div"),mt=W(dt),vl=E(),ae(wt.$$.fragment),Ot=E(),Ct=d("div"),yt=d("div"),Qt=W(ll),cl=E(),ae(Dt.$$.fragment),wl=E(),Xe=d("div"),Jt=d("div"),$l=W(dl),El=E(),ae(tt.$$.fragment),this.h()},l(se){e=_(se,"DIV",{});var ye=m(e);t=_(ye,"DIV",{});var Ce=m(t);l=_(Ce,"DIV",{class:!0});var bl=m(l);f=Y(bl,r),bl.forEach(c),a=y(Ce),i=_(Ce,"DIV",{class:!0});var sl=m(i);o=_(sl,"DIV",{class:!0});var rl=m(o);v=Y(rl,h),rl.forEach(c),g=y(sl),ne(p.$$.fragment,sl),sl.forEach(c),V=y(Ce),U=_(Ce,"DIV",{class:!0});var N=m(U);I=_(N,"DIV",{class:!0});var re=m(I);x=Y(re,$),re.forEach(c),b=y(N),ne(k.$$.fragment,N),N.forEach(c),G=y(Ce),S=_(Ce,"DIV",{class:!0});var lt=m(S);C=_(lt,"DIV",{class:!0});var Yt=m(C);ee=Y(Yt,z),Yt.forEach(c),A=y(lt),ne(Z.$$.fragment,lt),lt.forEach(c),te=y(Ce),P=_(Ce,"DIV",{class:!0});var Pt=m(P);ne(M.$$.fragment,Pt),Pt.forEach(c),Ce.forEach(c),K=y(ye),ue=_(ye,"HR",{class:!0}),de=y(ye),R=_(ye,"DIV",{});var Je=m(R);Q=_(Je,"DIV",{class:!0});var It=m(Q);he=Y(It,B),It.forEach(c),ve=y(Je),pe=_(Je,"DIV",{class:!0});var Vt=m(pe);ge=_(Vt,"DIV",{class:!0});var al=m(ge);H=Y(al,O),al.forEach(c),q=y(Vt),ne(J.$$.fragment,Vt),Vt.forEach(c),ke=y(Je),fe=_(Je,"DIV",{class:!0});var Lt=m(fe);we=_(Lt,"DIV",{class:!0});var nl=m(we);ce=Y(nl,le),nl.forEach(c),Te=y(Lt),ne(Ie.$$.fragment,Lt),Lt.forEach(c),Ke=y(Je),Le=_(Je,"DIV",{class:!0});var Ye=m(Le);Ve=_(Ye,"DIV",{class:!0});var ol=m(Ve);je=Y(ol,xe),ol.forEach(c),Me=y(Ye),ne(Ne.$$.fragment,Ye),Ye.forEach(c),me=y(Je),De=_(Je,"DIV",{class:!0});var Mt=m(De);be=_(Mt,"DIV",{class:!0});var nt=m(be);it=Y(nt,$e),nt.forEach(c),Qe=y(Mt),ne(Ge.$$.fragment,Mt),Mt.forEach(c),Ze=y(Je),et=_(Je,"DIV",{class:!0});var Ft=m(et);Oe=_(Ft,"DIV",{class:!0});var Sl=m(Oe);vt=Y(Sl,qe),Sl.forEach(c),ut=y(Ft),ne(ze.$$.fragment,Ft),Ft.forEach(c),Je.forEach(c),jt=y(ye),Gt=_(ye,"HR",{class:!0}),rt=y(ye),Re=_(ye,"DIV",{});var At=m(Re);Tt=_(At,"DIV",{class:!0});var Bl=m(Tt);ht=Y(Bl,ct),Bl.forEach(c),Bt=y(At),gt=_(At,"DIV",{class:!0});var il=m(gt);Nt=_(il,"DIV",{class:!0});var Pl=m(Nt);mt=Y(Pl,dt),Pl.forEach(c),vl=y(il),ne(wt.$$.fragment,il),il.forEach(c),Ot=y(At),Ct=_(At,"DIV",{class:!0});var ul=m(Ct);yt=_(ul,"DIV",{class:!0});var Hl=m(yt);Qt=Y(Hl,ll),Hl.forEach(c),cl=y(ul),ne(Dt.$$.fragment,ul),ul.forEach(c),wl=y(At),Xe=_(At,"DIV",{class:!0});var fl=m(Xe);Jt=_(fl,"DIV",{class:!0});var zl=m(Jt);$l=Y(zl,dl),zl.forEach(c),El=y(fl),ne(tt.$$.fragment,fl),fl.forEach(c),At.forEach(c),ye.forEach(c),this.h()},h(){u(l,"class","mb-2 text-sm font-medium"),u(o,"class","self-center text-xs font-medium"),u(i,"class","flex w-full justify-between my-2 pr-2"),u(I,"class","self-center text-xs font-medium"),u(U,"class","flex w-full justify-between my-2 pr-2"),u(C,"class","self-center text-xs font-medium"),u(S,"class","flex w-full justify-between my-2 pr-2"),u(P,"class",""),u(ue,"class","border-gray-100 dark:border-gray-850 my-2"),u(Q,"class","mb-2 text-sm font-medium"),u(ge,"class","self-center text-xs font-medium"),u(pe,"class","flex w-full justify-between my-2 pr-2"),u(we,"class","self-center text-xs font-medium"),u(fe,"class","flex w-full justify-between my-2 pr-2"),u(Ve,"class","self-center text-xs font-medium"),u(Le,"class","flex w-full justify-between my-2 pr-2"),u(be,"class","self-center text-xs font-medium"),u(De,"class","flex w-full justify-between my-2 pr-2"),u(Oe,"class","self-center text-xs font-medium"),u(et,"class","flex w-full justify-between my-2 pr-2"),u(Gt,"class","border-gray-100 dark:border-gray-850 my-2"),u(Tt,"class","mb-2 text-sm font-medium"),u(Nt,"class","self-center text-xs font-medium"),u(gt,"class","flex w-full justify-between my-2 pr-2"),u(yt,"class","self-center text-xs font-medium"),u(Ct,"class","flex w-full justify-between my-2 pr-2"),u(Jt,"class","self-center text-xs font-medium"),u(Xe,"class","flex w-full justify-between my-2 pr-2")},m(se,ye){F(se,e,ye),n(e,t),n(t,l),n(l,f),n(t,a),n(t,i),n(i,o),n(o,v),n(i,g),oe(p,i,null),n(t,V),n(t,U),n(U,I),n(I,x),n(U,b),oe(k,U,null),n(t,G),n(t,S),n(S,C),n(C,ee),n(S,A),oe(Z,S,null),n(t,te),n(t,P),oe(M,P,null),n(e,K),n(e,ue),n(e,de),n(e,R),n(R,Q),n(Q,he),n(R,ve),n(R,pe),n(pe,ge),n(ge,H),n(pe,q),oe(J,pe,null),n(R,ke),n(R,fe),n(fe,we),n(we,ce),n(fe,Te),oe(Ie,fe,null),n(R,Ke),n(R,Le),n(Le,Ve),n(Ve,je),n(Le,Me),oe(Ne,Le,null),n(R,me),n(R,De),n(De,be),n(be,it),n(De,Qe),oe(Ge,De,null),n(R,Ze),n(R,et),n(et,Oe),n(Oe,vt),n(et,ut),oe(ze,et,null),n(e,jt),n(e,Gt),n(e,rt),n(e,Re),n(Re,Tt),n(Tt,ht),n(Re,Bt),n(Re,gt),n(gt,Nt),n(Nt,mt),n(gt,vl),oe(wt,gt,null),n(Re,Ot),n(Re,Ct),n(Ct,yt),n(yt,Qt),n(Ct,cl),oe(Dt,Ct,null),n(Re,wl),n(Re,Xe),n(Xe,Jt),n(Jt,$l),n(Xe,El),oe(tt,Xe,null),at=!0},p(se,[ye]){(!at||ye&2)&&r!==(r=se[1].t("Workspace Permissions")+"")&&X(f,r),(!at||ye&2)&&h!==(h=se[1].t("Models Access")+"")&&X(v,h);const Ce={};!w&&ye&1&&(w=!0,Ce.state=se[0].workspace.models,Se(()=>w=!1)),p.$set(Ce),(!at||ye&2)&&$!==($=se[1].t("Knowledge Access")+"")&&X(x,$);const bl={};!D&&ye&1&&(D=!0,bl.state=se[0].workspace.knowledge,Se(()=>D=!1)),k.$set(bl),(!at||ye&2)&&z!==(z=se[1].t("Prompts Access")+"")&&X(ee,z);const sl={};!j&&ye&1&&(j=!0,sl.state=se[0].workspace.prompts,Se(()=>j=!1)),Z.$set(sl);const rl={};ye&2&&(rl.content=se[1].t("Warning: Enabling this will allow users to upload arbitrary code on the server.")),ye&65539&&(rl.$$scope={dirty:ye,ctx:se}),M.$set(rl),(!at||ye&2)&&B!==(B=se[1].t("Chat Permissions")+"")&&X(he,B),(!at||ye&2)&&O!==(O=se[1].t("Allow Chat Controls")+"")&&X(H,O);const N={};!_e&&ye&1&&(_e=!0,N.state=se[0].chat.controls,Se(()=>_e=!1)),J.$set(N),(!at||ye&2)&&le!==(le=se[1].t("Allow File Upload")+"")&&X(ce,le);const re={};!Ue&&ye&1&&(Ue=!0,re.state=se[0].chat.file_upload,Se(()=>Ue=!1)),Ie.$set(re),(!at||ye&2)&&xe!==(xe=se[1].t("Allow Chat Delete")+"")&&X(je,xe);const lt={};!st&&ye&1&&(st=!0,lt.state=se[0].chat.delete,Se(()=>st=!1)),Ne.$set(lt),(!at||ye&2)&&$e!==($e=se[1].t("Allow Chat Edit")+"")&&X(it,$e);const Yt={};!Et&&ye&1&&(Et=!0,Yt.state=se[0].chat.edit,Se(()=>Et=!1)),Ge.$set(Yt),(!at||ye&2)&&qe!==(qe=se[1].t("Allow Temporary Chat")+"")&&X(vt,qe);const Pt={};!_t&&ye&1&&(_t=!0,Pt.state=se[0].chat.temporary,Se(()=>_t=!1)),ze.$set(Pt),(!at||ye&2)&&ct!==(ct=se[1].t("Features Permissions")+"")&&X(ht,ct),(!at||ye&2)&&dt!==(dt=se[1].t("Web Search")+"")&&X(mt,dt);const Je={};!gl&&ye&1&&(gl=!0,Je.state=se[0].features.web_search,Se(()=>gl=!1)),wt.$set(Je),(!at||ye&2)&&ll!==(ll=se[1].t("Image Generation")+"")&&X(Qt,ll);const It={};!Ut&&ye&1&&(Ut=!0,It.state=se[0].features.image_generation,Se(()=>Ut=!1)),Dt.$set(It),(!at||ye&2)&&dl!==(dl=se[1].t("Code Interpreter")+"")&&X($l,dl);const Vt={};!xl&&ye&1&&(xl=!0,Vt.state=se[0].features.code_interpreter,Se(()=>xl=!1)),tt.$set(Vt)},i(se){at||(T(p.$$.fragment,se),T(k.$$.fragment,se),T(Z.$$.fragment,se),T(M.$$.fragment,se),T(J.$$.fragment,se),T(Ie.$$.fragment,se),T(Ne.$$.fragment,se),T(Ge.$$.fragment,se),T(ze.$$.fragment,se),T(wt.$$.fragment,se),T(Dt.$$.fragment,se),T(tt.$$.fragment,se),at=!0)},o(se){L(p.$$.fragment,se),L(k.$$.fragment,se),L(Z.$$.fragment,se),L(M.$$.fragment,se),L(J.$$.fragment,se),L(Ie.$$.fragment,se),L(Ne.$$.fragment,se),L(Ge.$$.fragment,se),L(ze.$$.fragment,se),L(wt.$$.fragment,se),L(Dt.$$.fragment,se),L(tt.$$.fragment,se),at=!1},d(se){se&&c(e),ie(p),ie(k),ie(Z),ie(M),ie(J),ie(Ie),ie(Ne),ie(Ge),ie(ze),ie(wt),ie(Dt),ie(tt)}}}function ws(s,e){return{...e,...s,workspace:{...e.workspace,...s.workspace},chat:{...e.chat,...s.chat},features:{...e.features,...s.features}}}function Da(s,e,t){let l;const r=zt("i18n");bt(s,r,b=>t(1,l=b));const f={workspace:{models:!1,knowledge:!1,prompts:!1,tools:!1},chat:{controls:!0,delete:!0,edit:!0,temporary:!0,file_upload:!0},features:{web_search:!0,image_generation:!0,code_interpreter:!0}};let{permissions:a={}}=e;Vl(()=>{t(0,a=ws(a,f))});function i(b){s.$$.not_equal(a.workspace.models,b)&&(a.workspace.models=b,t(0,a))}function o(b){s.$$.not_equal(a.workspace.knowledge,b)&&(a.workspace.knowledge=b,t(0,a))}function h(b){s.$$.not_equal(a.workspace.prompts,b)&&(a.workspace.prompts=b,t(0,a))}function v(b){s.$$.not_equal(a.workspace.tools,b)&&(a.workspace.tools=b,t(0,a))}function g(b){s.$$.not_equal(a.chat.controls,b)&&(a.chat.controls=b,t(0,a))}function p(b){s.$$.not_equal(a.chat.file_upload,b)&&(a.chat.file_upload=b,t(0,a))}function w(b){s.$$.not_equal(a.chat.delete,b)&&(a.chat.delete=b,t(0,a))}function V(b){s.$$.not_equal(a.chat.edit,b)&&(a.chat.edit=b,t(0,a))}function U(b){s.$$.not_equal(a.chat.temporary,b)&&(a.chat.temporary=b,t(0,a))}function I(b){s.$$.not_equal(a.features.web_search,b)&&(a.features.web_search=b,t(0,a))}function $(b){s.$$.not_equal(a.features.image_generation,b)&&(a.features.image_generation=b,t(0,a))}function x(b){s.$$.not_equal(a.features.code_interpreter,b)&&(a.features.code_interpreter=b,t(0,a))}return s.$$set=b=>{"permissions"in b&&t(0,a=b.permissions)},s.$$.update=()=>{s.$$.dirty&1&&t(0,a=ws(a,f))},[a,l,r,i,o,h,v,g,p,w,V,U,I,$,x]}class Ia extends kt{constructor(e){super(),$t(this,e,Da,ya,pt,{permissions:0})}}function bs(s,e,t){const l=s.slice();return l[8]=e[t],l[10]=t,l}function Va(s){let e,t=s[3].t("No users were found.")+"",l;return{c(){e=d("div"),l=W(t),this.h()},l(r){e=_(r,"DIV",{class:!0});var f=m(e);l=Y(f,t),f.forEach(c),this.h()},h(){u(e,"class","text-gray-500 text-xs text-center py-2 px-10")},m(r,f){F(r,e,f),n(e,l)},p(r,f){f&8&&t!==(t=r[3].t("No users were found.")+"")&&X(l,t)},i:We,o:We,d(r){r&&c(e)}}}function xa(s){let e=[],t=new Map,l,r,f=ml(s[2]);const a=i=>i[8].id;for(let i=0;i<f.length;i+=1){let o=bs(s,f,i),h=a(o);t.set(h,e[i]=$s(h,o))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=hl()},l(i){for(let o=0;o<e.length;o+=1)e[o].l(i);l=hl()},m(i,o){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(i,o);F(i,l,o),r=!0},p(i,o){o&5&&(f=ml(i[2]),Pe(),e=Ws(e,o,a,1,i,f,t,l.parentNode,Ys,$s,l,bs),He())},i(i){if(!r){for(let o=0;o<f.length;o+=1)T(e[o]);r=!0}},o(i){for(let o=0;o<e.length;o+=1)L(e[o]);r=!1},d(i){i&&c(l);for(let o=0;o<e.length;o+=1)e[o].d(i)}}}function Ta(s){let e,t,l,r,f,a=s[8].name+"",i;return{c(){e=d("div"),t=d("img"),r=E(),f=d("div"),i=W(a),this.h()},l(o){e=_(o,"DIV",{class:!0});var h=m(e);t=_(h,"IMG",{class:!0,src:!0,alt:!0}),r=y(h),f=_(h,"DIV",{class:!0});var v=m(f);i=Y(v,a),v.forEach(c),h.forEach(c),this.h()},h(){u(t,"class","rounded-full size-5 object-cover mr-2.5"),Il(t.src,l=s[8].profile_image_url.startsWith(jl)||s[8].profile_image_url.startsWith("https://www.gravatar.com/avatar/")||s[8].profile_image_url.startsWith("data:")?s[8].profile_image_url:"/user.png")||u(t,"src",l),u(t,"alt","user"),u(f,"class","font-medium self-center"),u(e,"class","flex")},m(o,h){F(o,e,h),n(e,t),n(e,r),n(e,f),n(f,i)},p(o,h){h&4&&!Il(t.src,l=o[8].profile_image_url.startsWith(jl)||o[8].profile_image_url.startsWith("https://www.gravatar.com/avatar/")||o[8].profile_image_url.startsWith("data:")?o[8].profile_image_url:"/user.png")&&u(t,"src",l),h&4&&a!==(a=o[8].name+"")&&X(i,a)},d(o){o&&c(e)}}}function ks(s){let e,t;return e=new es({props:{type:"success",content:"member"}}),{c(){ae(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,r){oe(e,l,r),t=!0},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){ie(e,l)}}}function $s(s,e){let t,l,r,f,a,i,o,h=e[0].includes(e[8].id),v,g;function p(...V){return e[7](e[8],...V)}r=new er({props:{state:e[0].includes(e[8].id)?"checked":"unchecked"}}),r.$on("change",p),i=new pl({props:{content:e[8].email,placement:"top-start",$$slots:{default:[Ta]},$$scope:{ctx:e}}});let w=h&&ks();return{key:s,first:null,c(){t=d("div"),l=d("div"),ae(r.$$.fragment),f=E(),a=d("div"),ae(i.$$.fragment),o=E(),w&&w.c(),v=E(),this.h()},l(V){t=_(V,"DIV",{class:!0});var U=m(t);l=_(U,"DIV",{class:!0});var I=m(l);ne(r.$$.fragment,I),I.forEach(c),f=y(U),a=_(U,"DIV",{class:!0});var $=m(a);ne(i.$$.fragment,$),o=y($),w&&w.l($),$.forEach(c),v=y(U),U.forEach(c),this.h()},h(){u(l,"class","flex items-center"),u(a,"class","flex w-full items-center justify-between"),u(t,"class","flex flex-row items-center gap-3 w-full text-sm"),this.first=t},m(V,U){F(V,t,U),n(t,l),oe(r,l,null),n(t,f),n(t,a),oe(i,a,null),n(a,o),w&&w.m(a,null),n(t,v),g=!0},p(V,U){e=V;const I={};U&5&&(I.state=e[0].includes(e[8].id)?"checked":"unchecked"),r.$set(I);const $={};U&4&&($.content=e[8].email),U&2052&&($.$$scope={dirty:U,ctx:e}),i.$set($),U&5&&(h=e[0].includes(e[8].id)),h?w?U&5&&T(w,1):(w=ks(),w.c(),T(w,1),w.m(a,null)):w&&(Pe(),L(w,1,1,()=>{w=null}),He())},i(V){g||(T(r.$$.fragment,V),T(i.$$.fragment,V),T(w),g=!0)},o(V){L(r.$$.fragment,V),L(i.$$.fragment,V),L(w),g=!1},d(V){V&&c(t),ie(r),ie(i),w&&w.d()}}}function Na(s){let e,t,l,r,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',a,i,o,h,v,g,p,w,V,U,I;const $=[xa,Va],x=[];function b(k,D){return k[2].length>0?0:1}return p=b(s),w=x[p]=$[p](s),{c(){e=d("div"),t=d("div"),l=d("div"),r=d("div"),r.innerHTML=f,a=E(),i=d("input"),h=E(),v=d("div"),g=d("div"),w.c(),this.h()},l(k){e=_(k,"DIV",{});var D=m(e);t=_(D,"DIV",{class:!0});var G=m(t);l=_(G,"DIV",{class:!0});var S=m(l);r=_(S,"DIV",{class:!0,"data-svelte-h":!0}),ft(r)!=="svelte-r4ce5j"&&(r.innerHTML=f),a=y(S),i=_(S,"INPUT",{class:!0,placeholder:!0}),S.forEach(c),G.forEach(c),h=y(D),v=_(D,"DIV",{class:!0});var C=m(v);g=_(C,"DIV",{class:!0});var z=m(g);w.l(z),z.forEach(c),C.forEach(c),D.forEach(c),this.h()},h(){u(r,"class","self-center mr-3"),u(i,"class","w-full text-sm pr-4 rounded-r-xl outline-hidden bg-transparent"),u(i,"placeholder",o=s[3].t("Search")),u(l,"class","flex flex-1"),u(t,"class","flex w-full"),u(g,"class","flex flex-col gap-2.5"),u(v,"class","mt-3 max-h-[22rem] overflow-y-auto scrollbar-hidden")},m(k,D){F(k,e,D),n(e,t),n(t,l),n(l,r),n(l,a),n(l,i),Fe(i,s[1]),n(e,h),n(e,v),n(v,g),x[p].m(g,null),V=!0,U||(I=Ee(i,"input",s[6]),U=!0)},p(k,[D]){(!V||D&8&&o!==(o=k[3].t("Search")))&&u(i,"placeholder",o),D&2&&i.value!==k[1]&&Fe(i,k[1]);let G=p;p=b(k),p===G?x[p].p(k,D):(Pe(),L(x[G],1,1,()=>{x[G]=null}),He(),w=x[p],w?w.p(k,D):(w=x[p]=$[p](k),w.c()),T(w,1),w.m(g,null))},i(k){V||(T(w),V=!0)},o(k){L(w),V=!1},d(k){k&&c(e),x[p].d(),U=!1,I()}}}function Ca(s,e,t){let l;const r=zt("i18n");bt(s,r,g=>t(3,l=g));let{users:f=[]}=e,{userIds:a=[]}=e,i=[],o="";function h(){o=this.value,t(1,o)}const v=(g,p)=>{p.detail==="checked"?t(0,a=[...a,g.id]):t(0,a=a.filter(w=>w!==g.id))};return s.$$set=g=>{"users"in g&&t(5,f=g.users),"userIds"in g&&t(0,a=g.userIds)},s.$$.update=()=>{s.$$.dirty&35&&t(2,i=f.filter(g=>(g==null?void 0:g.role)==="admin"?!1:o===""?!0:g.name.toLowerCase().includes(o.toLowerCase())||g.email.toLowerCase().includes(o.toLowerCase())).sort((g,p)=>{const w=a.indexOf(g.id),V=a.indexOf(p.id);return w!==-1&&V===-1?-1:V!==-1&&w===-1?1:w!==-1&&V!==-1?w-V:g.name.localeCompare(p.name)}))},[a,o,i,l,r,f,h,v]}let Ua=class extends kt{constructor(e){super(),$t(this,e,Ca,Na,pt,{users:5,userIds:0})}};function La(s){let e,t;return{c(){e=yl("svg"),t=yl("path"),this.h()},l(l){e=Dl(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=m(e);t=Dl(r,"path",{d:!0}),m(t).forEach(c),r.forEach(c),this.h()},h(){u(t,"d","M10 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM1.615 16.428a1.224 1.224 0 0 1-.569-1.175 6.002 6.002 0 0 1 11.908 0c.058.467-.172.92-.57 1.174A9.953 9.953 0 0 1 7 18a9.953 9.953 0 0 1-5.385-1.572ZM16.25 5.75a.75.75 0 0 0-1.5 0v2h-2a.75.75 0 0 0 0 1.5h2v2a.75.75 0 0 0 1.5 0v-2h2a.75.75 0 0 0 0-1.5h-2v-2Z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 20 20"),u(e,"fill","currentColor"),u(e,"class",s[0])},m(l,r){F(l,e,r),n(e,t)},p(l,[r]){r&1&&u(e,"class",l[0])},i:We,o:We,d(l){l&&c(e)}}}function Ma(s,e,t){let{className:l="size-4"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className)},[l]}class Aa extends kt{constructor(e){super(),$t(this,e,Ma,La,pt,{className:0})}}function Sa(s){let e=s[12].t("Edit Default Permissions")+"",t;return{c(){t=W(e)},l(l){t=Y(l,e)},m(l,r){F(l,t,r)},p(l,r){r&4096&&e!==(e=l[12].t("Edit Default Permissions")+"")&&X(t,e)},d(l){l&&c(t)}}}function Ba(s){let e;function t(f,a){return f[6]?Ha:Pa}let l=t(s),r=l(s);return{c(){r.c(),e=hl()},l(f){r.l(f),e=hl()},m(f,a){r.m(f,a),F(f,e,a)},p(f,a){l===(l=t(f))&&r?r.p(f,a):(r.d(1),r=l(f),r&&(r.c(),r.m(e.parentNode,e)))},d(f){f&&c(e),r.d(f)}}}function Pa(s){let e=s[12].t("Add User Group")+"",t;return{c(){t=W(e)},l(l){t=Y(l,e)},m(l,r){F(l,t,r)},p(l,r){r&4096&&e!==(e=l[12].t("Add User Group")+"")&&X(t,e)},d(l){l&&c(t)}}}function Ha(s){let e=s[12].t("Edit User Group")+"",t;return{c(){t=W(e)},l(l){t=Y(l,e)},m(l,r){F(l,t,r)},p(l,r){r&4096&&e!==(e=l[12].t("Edit User Group")+"")&&X(t,e)},d(l){l&&c(t)}}}function Es(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg>',r,f,a=s[12].t("General")+"",i,o,h,v;return{c(){e=d("button"),t=d("div"),t.innerHTML=l,r=E(),f=d("div"),i=W(a),this.h()},l(g){e=_(g,"BUTTON",{class:!0,type:!0});var p=m(e);t=_(p,"DIV",{class:!0,"data-svelte-h":!0}),ft(t)!=="svelte-15gnf02"&&(t.innerHTML=l),r=y(p),f=_(p,"DIV",{class:!0});var w=m(f);i=Y(w,a),w.forEach(c),p.forEach(c),this.h()},h(){u(t,"class","self-center mr-2"),u(f,"class","self-center"),u(e,"class",o="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(s[10]==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),u(e,"type","button")},m(g,p){F(g,e,p),n(e,t),n(e,r),n(e,f),n(f,i),h||(v=Ee(e,"click",s[18]),h=!0)},p(g,p){p&4096&&a!==(a=g[12].t("General")+"")&&X(i,a),p&1024&&o!==(o="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(g[10]==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))&&u(e,"class",o)},d(g){g&&c(e),h=!1,v()}}}function ys(s){let e,t,l,r,f,a=s[12].t("Permissions")+"",i,o,h,v,g;return l=new tr({}),{c(){e=d("button"),t=d("div"),ae(l.$$.fragment),r=E(),f=d("div"),i=W(a),this.h()},l(p){e=_(p,"BUTTON",{class:!0,type:!0});var w=m(e);t=_(w,"DIV",{class:!0});var V=m(t);ne(l.$$.fragment,V),V.forEach(c),r=y(w),f=_(w,"DIV",{class:!0});var U=m(f);i=Y(U,a),U.forEach(c),w.forEach(c),this.h()},h(){u(t,"class","self-center mr-2"),u(f,"class","self-center"),u(e,"class",o="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(s[10]==="permissions"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),u(e,"type","button")},m(p,w){F(p,e,w),n(e,t),oe(l,t,null),n(e,r),n(e,f),n(f,i),h=!0,v||(g=Ee(e,"click",s[19]),v=!0)},p(p,w){(!h||w&4096)&&a!==(a=p[12].t("Permissions")+"")&&X(i,a),(!h||w&1024&&o!==(o="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(p[10]==="permissions"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&u(e,"class",o)},i(p){h||(T(l.$$.fragment,p),h=!0)},o(p){L(l.$$.fragment,p),h=!1},d(p){p&&c(e),ie(l),v=!1,g()}}}function Ds(s){let e,t,l,r,f,a=s[12].t("Users")+"",i,o,h=s[4].length+"",v,g,p,w,V,U;return l=new Aa({}),{c(){e=d("button"),t=d("div"),ae(l.$$.fragment),r=E(),f=d("div"),i=W(a),o=W(" ("),v=W(h),g=W(")"),this.h()},l(I){e=_(I,"BUTTON",{class:!0,type:!0});var $=m(e);t=_($,"DIV",{class:!0});var x=m(t);ne(l.$$.fragment,x),x.forEach(c),r=y($),f=_($,"DIV",{class:!0});var b=m(f);i=Y(b,a),o=Y(b," ("),v=Y(b,h),g=Y(b,")"),b.forEach(c),$.forEach(c),this.h()},h(){u(t,"class","self-center mr-2"),u(f,"class","self-center"),u(e,"class",p="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(s[10]==="users"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),u(e,"type","button")},m(I,$){F(I,e,$),n(e,t),oe(l,t,null),n(e,r),n(e,f),n(f,i),n(f,o),n(f,v),n(f,g),w=!0,V||(U=Ee(e,"click",s[20]),V=!0)},p(I,$){(!w||$&4096)&&a!==(a=I[12].t("Users")+"")&&X(i,a),(!w||$&16)&&h!==(h=I[4].length+"")&&X(v,h),(!w||$&1024&&p!==(p="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(I[10]==="users"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&u(e,"class",p)},i(I){w||(T(l.$$.fragment,I),w=!0)},o(I){L(l.$$.fragment,I),w=!1},d(I){I&&c(e),ie(l),V=!1,U()}}}function za(s){let e,t,l;function r(a){s[24](a)}let f={users:s[7]};return s[4]!==void 0&&(f.userIds=s[4]),e=new Ua({props:f}),Ae.push(()=>Be(e,"userIds",r)),{c(){ae(e.$$.fragment)},l(a){ne(e.$$.fragment,a)},m(a,i){oe(e,a,i),l=!0},p(a,i){const o={};i&128&&(o.users=a[7]),!t&&i&16&&(t=!0,o.userIds=a[4],Se(()=>t=!1)),e.$set(o)},i(a){l||(T(e.$$.fragment,a),l=!0)},o(a){L(e.$$.fragment,a),l=!1},d(a){ie(e,a)}}}function ja(s){let e,t,l;function r(a){s[23](a)}let f={};return s[3]!==void 0&&(f.permissions=s[3]),e=new Ia({props:f}),Ae.push(()=>Be(e,"permissions",r)),{c(){ae(e.$$.fragment)},l(a){ne(e.$$.fragment,a)},m(a,i){oe(e,a,i),l=!0},p(a,i){const o={};!t&&i&8&&(t=!0,o.permissions=a[3],Se(()=>t=!1)),e.$set(o)},i(a){l||(T(e.$$.fragment,a),l=!0)},o(a){L(e.$$.fragment,a),l=!1},d(a){ie(e,a)}}}function Ga(s){let e,t,l,r;function f(o){s[21](o)}function a(o){s[22](o)}let i={};return s[1]!==void 0&&(i.name=s[1]),s[2]!==void 0&&(i.description=s[2]),e=new $a({props:i}),Ae.push(()=>Be(e,"name",f)),Ae.push(()=>Be(e,"description",a)),{c(){ae(e.$$.fragment)},l(o){ne(e.$$.fragment,o)},m(o,h){oe(e,o,h),r=!0},p(o,h){const v={};!t&&h&2&&(t=!0,v.name=o[1],Se(()=>t=!1)),!l&&h&4&&(l=!0,v.description=o[2],Se(()=>l=!1)),e.$set(v)},i(o){r||(T(e.$$.fragment,o),r=!0)},o(o){L(e.$$.fragment,o),r=!1},d(o){ie(e,o)}}}function Is(s){let e,t=s[12].t("Delete")+"",l,r,f;return{c(){e=d("button"),l=W(t),this.h()},l(a){e=_(a,"BUTTON",{class:!0,type:!0});var i=m(e);l=Y(i,t),i.forEach(c),this.h()},h(){u(e,"class","px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-900 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center"),u(e,"type","button")},m(a,i){F(a,e,i),n(e,l),r||(f=Ee(e,"click",s[25]),r=!0)},p(a,i){i&4096&&t!==(t=a[12].t("Delete")+"")&&X(l,t)},d(a){a&&c(e),r=!1,f()}}}function Vs(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),ft(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){u(e,"class","ml-2 self-center")},m(l,r){F(l,e,r)},d(l){l&&c(e)}}}function Oa(s){let e,t,l,r,f,a='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',i,o,h,v,g,p,w=s[9].includes("general"),V,U=s[9].includes("permissions"),I,$=s[9].includes("users"),x,b,k,D,G,S,C,z,ee=s[12].t("Save")+"",A,Z,j,te,P,M;function K(H,q){return H[8]?Ba:Sa}let ue=K(s),de=ue(s),R=w&&Es(s),Q=U&&ys(s),B=$&&Ds(s);const he=[Ga,ja,za],ve=[];function pe(H,q){return H[10]=="general"?0:H[10]=="permissions"?1:H[10]=="users"?2:-1}~(k=pe(s))&&(D=ve[k]=he[k](s));let ge=s[6]&&Is(s),O=s[11]&&Vs();return{c(){e=d("div"),t=d("div"),l=d("div"),de.c(),r=E(),f=d("button"),f.innerHTML=a,i=E(),o=d("div"),h=d("div"),v=d("form"),g=d("div"),p=d("div"),R&&R.c(),V=E(),Q&&Q.c(),I=E(),B&&B.c(),x=E(),b=d("div"),D&&D.c(),G=E(),S=d("div"),ge&&ge.c(),C=E(),z=d("button"),A=W(ee),Z=E(),O&&O.c(),this.h()},l(H){e=_(H,"DIV",{});var q=m(e);t=_(q,"DIV",{class:!0});var J=m(t);l=_(J,"DIV",{class:!0});var _e=m(l);de.l(_e),_e.forEach(c),r=y(J),f=_(J,"BUTTON",{class:!0,"data-svelte-h":!0}),ft(f)!=="svelte-745w2y"&&(f.innerHTML=a),J.forEach(c),i=y(q),o=_(q,"DIV",{class:!0});var ke=m(o);h=_(ke,"DIV",{class:!0});var fe=m(h);v=_(fe,"FORM",{class:!0});var we=m(v);g=_(we,"DIV",{class:!0});var le=m(g);p=_(le,"DIV",{id:!0,class:!0});var ce=m(p);R&&R.l(ce),V=y(ce),Q&&Q.l(ce),I=y(ce),B&&B.l(ce),ce.forEach(c),x=y(le),b=_(le,"DIV",{class:!0});var Te=m(b);D&&D.l(Te),Te.forEach(c),le.forEach(c),G=y(we),S=_(we,"DIV",{class:!0});var Ie=m(S);ge&&ge.l(Ie),C=y(Ie),z=_(Ie,"BUTTON",{class:!0,type:!0});var Ue=m(z);A=Y(Ue,ee),Z=y(Ue),O&&O.l(Ue),Ue.forEach(c),Ie.forEach(c),we.forEach(c),fe.forEach(c),ke.forEach(c),q.forEach(c),this.h()},h(){u(l,"class","text-lg font-medium self-center font-primary"),u(f,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 mb-1.5"),u(p,"id","admin-settings-tabs-container"),u(p,"class","tabs flex flex-row overflow-x-auto gap-2.5 max-w-full lg:gap-1 lg:flex-col lg:flex-none lg:w-40 dark:text-gray-200 text-sm font-medium text-left scrollbar-none"),u(b,"class","flex-1 mt-1 lg:mt-1 lg:h-[22rem] lg:max-h-[22rem] overflow-y-auto scrollbar-hidden"),u(g,"class","flex flex-col lg:flex-row w-full h-full pb-2 lg:space-x-4"),u(z,"class",j="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[11]?" cursor-not-allowed":"")),u(z,"type","submit"),z.disabled=s[11],u(S,"class","flex justify-end pt-3 text-sm font-medium gap-1.5"),u(v,"class","flex flex-col w-full"),u(h,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),u(o,"class","flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200")},m(H,q){F(H,e,q),n(e,t),n(t,l),de.m(l,null),n(t,r),n(t,f),n(e,i),n(e,o),n(o,h),n(h,v),n(v,g),n(g,p),R&&R.m(p,null),n(p,V),Q&&Q.m(p,null),n(p,I),B&&B.m(p,null),n(g,x),n(g,b),~k&&ve[k].m(b,null),n(v,G),n(v,S),ge&&ge.m(S,null),n(S,C),n(S,z),n(z,A),n(z,Z),O&&O.m(z,null),te=!0,P||(M=[Ee(f,"click",s[17]),Ee(v,"submit",s[26])],P=!0)},p(H,q){ue===(ue=K(H))&&de?de.p(H,q):(de.d(1),de=ue(H),de&&(de.c(),de.m(l,null))),q&512&&(w=H[9].includes("general")),w?R?R.p(H,q):(R=Es(H),R.c(),R.m(p,V)):R&&(R.d(1),R=null),q&512&&(U=H[9].includes("permissions")),U?Q?(Q.p(H,q),q&512&&T(Q,1)):(Q=ys(H),Q.c(),T(Q,1),Q.m(p,I)):Q&&(Pe(),L(Q,1,1,()=>{Q=null}),He()),q&512&&($=H[9].includes("users")),$?B?(B.p(H,q),q&512&&T(B,1)):(B=Ds(H),B.c(),T(B,1),B.m(p,null)):B&&(Pe(),L(B,1,1,()=>{B=null}),He());let J=k;k=pe(H),k===J?~k&&ve[k].p(H,q):(D&&(Pe(),L(ve[J],1,1,()=>{ve[J]=null}),He()),~k?(D=ve[k],D?D.p(H,q):(D=ve[k]=he[k](H),D.c()),T(D,1),D.m(b,null)):D=null),H[6]?ge?ge.p(H,q):(ge=Is(H),ge.c(),ge.m(S,C)):ge&&(ge.d(1),ge=null),(!te||q&4096)&&ee!==(ee=H[12].t("Save")+"")&&X(A,ee),H[11]?O||(O=Vs(),O.c(),O.m(z,null)):O&&(O.d(1),O=null),(!te||q&2048&&j!==(j="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(H[11]?" cursor-not-allowed":"")))&&u(z,"class",j),(!te||q&2048)&&(z.disabled=H[11])},i(H){te||(T(Q),T(B),T(D),te=!0)},o(H){L(Q),L(B),L(D),te=!1},d(H){H&&c(e),de.d(),R&&R.d(),Q&&Q.d(),B&&B.d(),~k&&ve[k].d(),ge&&ge.d(),O&&O.d(),P=!1,Kt(M)}}}function Ra(s){let e,t,l;function r(a){s[27](a)}let f={size:"md",$$slots:{default:[Oa]},$$scope:{ctx:s}};return s[0]!==void 0&&(f.show=s[0]),e=new Gl({props:f}),Ae.push(()=>Be(e,"show",r)),{c(){ae(e.$$.fragment)},l(a){ne(e.$$.fragment,a)},m(a,i){oe(e,a,i),l=!0},p(a,[i]){const o={};i&536879103&&(o.$$scope={dirty:i,ctx:a}),!t&&i&1&&(t=!0,o.show=a[0],Se(()=>t=!1)),e.$set(o)},i(a){l||(T(e.$$.fragment,a),l=!0)},o(a){L(e.$$.fragment,a),l=!1},d(a){ie(e,a)}}}function Za(s,e,t){let l;const r=zt("i18n");bt(s,r,M=>t(12,l=M));let{onSubmit:f=()=>{}}=e,{onDelete:a=()=>{}}=e,{show:i=!1}=e,{edit:o=!1}=e,{users:h=[]}=e,{group:v=null}=e,{custom:g=!0}=e,{tabs:p=["general","permissions","users"]}=e,w="general",V=!1,{name:U=""}=e,{description:I=""}=e,{permissions:$={workspace:{models:!1,knowledge:!1,prompts:!1,tools:!1},chat:{controls:!0,file_upload:!0,delete:!0,edit:!0,temporary:!0},features:{web_search:!0,image_generation:!0,code_interpreter:!0}}}=e,{userIds:x=[]}=e;const b=async()=>{t(11,V=!0),await f({name:U,description:I,permissions:$,user_ids:x}),t(11,V=!1),t(0,i=!1)},k=()=>{v&&(t(1,U=v.name),t(2,I=v.description),t(3,$=(v==null?void 0:v.permissions)??{}),t(4,x=(v==null?void 0:v.user_ids)??[]))};Vl(()=>{console.log(p),t(10,w=p[0]),k()});const D=()=>{t(0,i=!1)},G=()=>{t(10,w="general")},S=()=>{t(10,w="permissions")},C=()=>{t(10,w="users")};function z(M){U=M,t(1,U)}function ee(M){I=M,t(2,I)}function A(M){$=M,t(3,$)}function Z(M){x=M,t(4,x)}const j=()=>{a(),t(0,i=!1)},te=M=>{M.preventDefault(),b()};function P(M){i=M,t(0,i)}return s.$$set=M=>{"onSubmit"in M&&t(15,f=M.onSubmit),"onDelete"in M&&t(5,a=M.onDelete),"show"in M&&t(0,i=M.show),"edit"in M&&t(6,o=M.edit),"users"in M&&t(7,h=M.users),"group"in M&&t(16,v=M.group),"custom"in M&&t(8,g=M.custom),"tabs"in M&&t(9,p=M.tabs),"name"in M&&t(1,U=M.name),"description"in M&&t(2,I=M.description),"permissions"in M&&t(3,$=M.permissions),"userIds"in M&&t(4,x=M.userIds)},s.$$.update=()=>{s.$$.dirty&1&&i&&k()},[i,U,I,$,x,a,o,h,g,p,w,V,l,r,b,f,v,D,G,S,C,z,ee,A,Z,j,te,P]}class Bs extends kt{constructor(e){super(),$t(this,e,Za,Ra,pt,{onSubmit:15,onDelete:5,show:0,edit:6,users:7,group:16,custom:8,tabs:9,name:1,description:2,permissions:3,userIds:4})}}function qa(s){let e,t,l,r,f,a,i,o,h=s[1].name+"",v,g,p,w=s[1].user_ids.length+"",V,U,I,$,x,b,k,D,G,S,C;function z(A){s[7](A)}let ee={edit:!0,users:s[0],group:s[1],onSubmit:s[4],onDelete:s[5]};return s[2]!==void 0&&(ee.show=s[2]),e=new Bs({props:ee}),Ae.push(()=>Be(e,"show",z)),i=new or({props:{className:"size-4"}}),$=new nr({props:{className:"size-3.5"}}),D=new ar({props:{className:"size-3.5"}}),{c(){ae(e.$$.fragment),l=E(),r=d("button"),f=d("div"),a=d("div"),ae(i.$$.fragment),o=E(),v=W(h),g=E(),p=d("div"),V=W(w),U=E(),I=d("div"),ae($.$$.fragment),x=E(),b=d("div"),k=d("div"),ae(D.$$.fragment),this.h()},l(A){ne(e.$$.fragment,A),l=y(A),r=_(A,"BUTTON",{class:!0});var Z=m(r);f=_(Z,"DIV",{class:!0});var j=m(f);a=_(j,"DIV",{});var te=m(a);ne(i.$$.fragment,te),te.forEach(c),o=y(j),v=Y(j,h),j.forEach(c),g=y(Z),p=_(Z,"DIV",{class:!0});var P=m(p);V=Y(P,w),U=y(P),I=_(P,"DIV",{});var M=m(I);ne($.$$.fragment,M),M.forEach(c),P.forEach(c),x=y(Z),b=_(Z,"DIV",{class:!0});var K=m(b);k=_(K,"DIV",{class:!0});var ue=m(k);ne(D.$$.fragment,ue),ue.forEach(c),K.forEach(c),Z.forEach(c),this.h()},h(){u(f,"class","flex items-center gap-1.5 w-full font-medium"),u(p,"class","flex items-center gap-1.5 w-full font-medium"),u(k,"class","rounded-lg p-1 hover:bg-gray-100 dark:hover:bg-gray-850 transition"),u(b,"class","w-full flex justify-end"),u(r,"class","flex items-center gap-3 justify-between px-1 text-xs w-full transition")},m(A,Z){oe(e,A,Z),F(A,l,Z),F(A,r,Z),n(r,f),n(f,a),oe(i,a,null),n(f,o),n(f,v),n(r,g),n(r,p),n(p,V),n(p,U),n(p,I),oe($,I,null),n(r,x),n(r,b),n(b,k),oe(D,k,null),G=!0,S||(C=Ee(r,"click",s[8]),S=!0)},p(A,[Z]){const j={};Z&1&&(j.users=A[0]),Z&2&&(j.group=A[1]),!t&&Z&4&&(t=!0,j.show=A[2],Se(()=>t=!1)),e.$set(j),(!G||Z&2)&&h!==(h=A[1].name+"")&&X(v,h),(!G||Z&2)&&w!==(w=A[1].user_ids.length+"")&&X(V,w)},i(A){G||(T(e.$$.fragment,A),T(i.$$.fragment,A),T($.$$.fragment,A),T(D.$$.fragment,A),G=!0)},o(A){L(e.$$.fragment,A),L(i.$$.fragment,A),L($.$$.fragment,A),L(D.$$.fragment,A),G=!1},d(A){A&&(c(l),c(r)),ie(e,A),ie(i),ie($),ie(D),S=!1,C()}}}function Wa(s,e,t){let l;const r=zt("i18n");bt(s,r,w=>t(9,l=w));let{users:f=[]}=e,{group:a={name:"Admins",user_ids:[1,2,3]}}=e,{setGroups:i=()=>{}}=e,o=!1;const h=async w=>{await lr(localStorage.token,a.id,w).catch(U=>(ot.error(`${U}`),null))&&(ot.success(l.t("Group updated successfully")),i())},v=async()=>{await sr(localStorage.token,a.id).catch(V=>(ot.error(`${V}`),null))&&(ot.success(l.t("Group deleted successfully")),i())};function g(w){o=w,t(2,o)}const p=()=>{t(2,o=!0)};return s.$$set=w=>{"users"in w&&t(0,f=w.users),"group"in w&&t(1,a=w.group),"setGroups"in w&&t(6,i=w.setGroups)},[f,a,o,r,h,v,i,g,p]}class Ya extends kt{constructor(e){super(),$t(this,e,Wa,qa,pt,{users:0,group:1,setGroups:6})}}function xs(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),ft(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){u(e,"class","ml-2 self-center")},m(l,r){F(l,e,r)},d(l){l&&c(e)}}}function Fa(s){let e,t,l,r=s[4].t("Add User Group")+"",f,a,i,o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',h,v,g,p,w,V,U,I,$=s[4].t("Name")+"",x,b,k,D,G,S,C,z,ee=s[4].t("Description")+"",A,Z,j,te,P,M,K,ue,de=s[4].t("Create")+"",R,Q,B,he,ve,pe;function ge(q){s[10](q)}let O={className:"w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden resize-none",rows:2,placeholder:s[4].t("Group Description")};s[2]!==void 0&&(O.value=s[2]),te=new Ss({props:O}),Ae.push(()=>Be(te,"value",ge));let H=s[3]&&xs();return{c(){e=d("div"),t=d("div"),l=d("div"),f=W(r),a=E(),i=d("button"),i.innerHTML=o,h=E(),v=d("div"),g=d("div"),p=d("form"),w=d("div"),V=d("div"),U=d("div"),I=d("div"),x=W($),b=E(),k=d("div"),D=d("input"),S=E(),C=d("div"),z=d("div"),A=W(ee),Z=E(),j=d("div"),ae(te.$$.fragment),M=E(),K=d("div"),ue=d("button"),R=W(de),Q=E(),H&&H.c(),this.h()},l(q){e=_(q,"DIV",{});var J=m(e);t=_(J,"DIV",{class:!0});var _e=m(t);l=_(_e,"DIV",{class:!0});var ke=m(l);f=Y(ke,r),ke.forEach(c),a=y(_e),i=_(_e,"BUTTON",{class:!0,"data-svelte-h":!0}),ft(i)!=="svelte-745w2y"&&(i.innerHTML=o),_e.forEach(c),h=y(J),v=_(J,"DIV",{class:!0});var fe=m(v);g=_(fe,"DIV",{class:!0});var we=m(g);p=_(we,"FORM",{class:!0});var le=m(p);w=_(le,"DIV",{class:!0});var ce=m(w);V=_(ce,"DIV",{class:!0});var Te=m(V);U=_(Te,"DIV",{class:!0});var Ie=m(U);I=_(Ie,"DIV",{class:!0});var Ue=m(I);x=Y(Ue,$),Ue.forEach(c),b=y(Ie),k=_(Ie,"DIV",{class:!0});var Ke=m(k);D=_(Ke,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Ke.forEach(c),Ie.forEach(c),Te.forEach(c),S=y(ce),C=_(ce,"DIV",{class:!0});var Le=m(C);z=_(Le,"DIV",{class:!0});var Ve=m(z);A=Y(Ve,ee),Ve.forEach(c),Z=y(Le),j=_(Le,"DIV",{class:!0});var xe=m(j);ne(te.$$.fragment,xe),xe.forEach(c),Le.forEach(c),ce.forEach(c),M=y(le),K=_(le,"DIV",{class:!0});var je=m(K);ue=_(je,"BUTTON",{class:!0,type:!0});var Me=m(ue);R=Y(Me,de),Q=y(Me),H&&H.l(Me),Me.forEach(c),je.forEach(c),le.forEach(c),we.forEach(c),fe.forEach(c),J.forEach(c),this.h()},h(){u(l,"class","text-lg font-medium self-center font-primary"),u(i,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 mb-1.5"),u(I,"class","mb-0.5 text-xs text-gray-500"),u(D,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),u(D,"type","text"),u(D,"placeholder",G=s[4].t("Group Name")),u(D,"autocomplete","off"),D.required=!0,u(k,"class","flex-1"),u(U,"class","flex flex-col w-full"),u(V,"class","flex gap-2"),u(z,"class","mb-1 text-xs text-gray-500"),u(j,"class","flex-1"),u(C,"class","flex flex-col w-full mt-2"),u(w,"class","px-1 flex flex-col w-full"),u(ue,"class",B="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[3]?" cursor-not-allowed":"")),u(ue,"type","submit"),ue.disabled=s[3],u(K,"class","flex justify-end pt-3 text-sm font-medium gap-1.5"),u(p,"class","flex flex-col w-full"),u(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),u(v,"class","flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200")},m(q,J){F(q,e,J),n(e,t),n(t,l),n(l,f),n(t,a),n(t,i),n(e,h),n(e,v),n(v,g),n(g,p),n(p,w),n(w,V),n(V,U),n(U,I),n(I,x),n(U,b),n(U,k),n(k,D),Fe(D,s[1]),n(w,S),n(w,C),n(C,z),n(z,A),n(C,Z),n(C,j),oe(te,j,null),n(p,M),n(p,K),n(K,ue),n(ue,R),n(ue,Q),H&&H.m(ue,null),he=!0,ve||(pe=[Ee(i,"click",s[8]),Ee(D,"input",s[9]),Ee(p,"submit",s[11])],ve=!0)},p(q,J){(!he||J&16)&&r!==(r=q[4].t("Add User Group")+"")&&X(f,r),(!he||J&16)&&$!==($=q[4].t("Name")+"")&&X(x,$),(!he||J&16&&G!==(G=q[4].t("Group Name")))&&u(D,"placeholder",G),J&2&&D.value!==q[1]&&Fe(D,q[1]),(!he||J&16)&&ee!==(ee=q[4].t("Description")+"")&&X(A,ee);const _e={};J&16&&(_e.placeholder=q[4].t("Group Description")),!P&&J&4&&(P=!0,_e.value=q[2],Se(()=>P=!1)),te.$set(_e),(!he||J&16)&&de!==(de=q[4].t("Create")+"")&&X(R,de),q[3]?H||(H=xs(),H.c(),H.m(ue,null)):H&&(H.d(1),H=null),(!he||J&8&&B!==(B="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(q[3]?" cursor-not-allowed":"")))&&u(ue,"class",B),(!he||J&8)&&(ue.disabled=q[3])},i(q){he||(T(te.$$.fragment,q),he=!0)},o(q){L(te.$$.fragment,q),he=!1},d(q){q&&c(e),ie(te),H&&H.d(),ve=!1,Kt(pe)}}}function Ka(s){let e,t,l;function r(a){s[12](a)}let f={size:"sm",$$slots:{default:[Fa]},$$scope:{ctx:s}};return s[0]!==void 0&&(f.show=s[0]),e=new Gl({props:f}),Ae.push(()=>Be(e,"show",r)),{c(){ae(e.$$.fragment)},l(a){ne(e.$$.fragment,a)},m(a,i){oe(e,a,i),l=!0},p(a,[i]){const o={};i&16415&&(o.$$scope={dirty:i,ctx:a}),!t&&i&1&&(t=!0,o.show=a[0],Se(()=>t=!1)),e.$set(o)},i(a){l||(T(e.$$.fragment,a),l=!0)},o(a){L(e.$$.fragment,a),l=!1},d(a){ie(e,a)}}}function Qa(s,e,t){let l;const r=zt("i18n");bt(s,r,I=>t(4,l=I));let{onSubmit:f=()=>{}}=e,{show:a=!1}=e,i="",o="",h=!1;const v=async()=>{t(3,h=!0),await f({name:i,description:o}),t(3,h=!1),t(0,a=!1),t(1,i=""),t(2,o="")};Vl(()=>{console.log("mounted")});const g=()=>{t(0,a=!1)};function p(){i=this.value,t(1,i)}function w(I){o=I,t(2,o)}const V=I=>{I.preventDefault(),v()};function U(I){a=I,t(0,a)}return s.$$set=I=>{"onSubmit"in I&&t(7,f=I.onSubmit),"show"in I&&t(0,a=I.show)},[a,i,o,h,l,r,v,f,g,p,w,V,U]}class Ja extends kt{constructor(e){super(),$t(this,e,Qa,Ka,pt,{onSubmit:7,show:0})}}function Ts(s,e,t){const l=s.slice();return l[21]=e[t],l}function Ns(s){let e,t,l,r,f,a=s[8].t("Groups")+"",i,o,h,v,g,p=s[1].length+"",w,V,U,I,$,x,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',k,D,G,S,C,z,ee,A,Z,j,te,P,M,K,ue,de,R,Q,B,he,ve,pe,ge,O,H=s[8].t("Default permissions")+"",q,J,_e,ke=s[8].t('applies to all users with the "user" role')+"",fe,we,le,ce,Te,Ie,Ue;function Ke(me){s[13](me)}let Le={onSubmit:s[11]};s[6]!==void 0&&(Le.show=s[6]),e=new Ja({props:Le}),Ae.push(()=>Be(e,"show",Ke)),z=new pl({props:{content:s[8].t("Create Group"),$$slots:{default:[Xa]},$$scope:{ctx:s}}});const Ve=[tn,en],xe=[];function je(me,De){return me[4].length===0?0:1}Z=je(s),j=xe[Z]=Ve[Z](s);function Me(me){s[17](me)}function Ne(me){s[18](me)}let st={tabs:["permissions"],custom:!1,onSubmit:s[12]};return s[7]!==void 0&&(st.show=s[7]),s[5]!==void 0&&(st.permissions=s[5]),K=new Bs({props:st}),Ae.push(()=>Be(K,"show",Me)),Ae.push(()=>Be(K,"permissions",Ne)),ve=new wa({props:{className:"size-4"}}),ce=new Xs({props:{strokeWidth:"2.5"}}),{c(){ae(e.$$.fragment),l=E(),r=d("div"),f=d("div"),i=W(a),o=E(),h=d("div"),v=E(),g=d("span"),w=W(p),V=E(),U=d("div"),I=d("div"),$=d("div"),x=d("div"),x.innerHTML=b,k=E(),D=d("input"),S=E(),C=d("div"),ae(z.$$.fragment),ee=E(),A=d("div"),j.c(),te=E(),P=d("hr"),M=E(),ae(K.$$.fragment),R=E(),Q=d("button"),B=d("div"),he=d("div"),ae(ve.$$.fragment),pe=E(),ge=d("div"),O=d("div"),q=W(H),J=E(),_e=d("div"),fe=W(ke),we=E(),le=d("div"),ae(ce.$$.fragment),this.h()},l(me){ne(e.$$.fragment,me),l=y(me),r=_(me,"DIV",{class:!0});var De=m(r);f=_(De,"DIV",{class:!0});var be=m(f);i=Y(be,a),o=y(be),h=_(be,"DIV",{class:!0}),m(h).forEach(c),v=y(be),g=_(be,"SPAN",{class:!0});var $e=m(g);w=Y($e,p),$e.forEach(c),be.forEach(c),V=y(De),U=_(De,"DIV",{class:!0});var it=m(U);I=_(it,"DIV",{class:!0});var Qe=m(I);$=_(Qe,"DIV",{class:!0});var Ge=m($);x=_(Ge,"DIV",{class:!0,"data-svelte-h":!0}),ft(x)!=="svelte-kinl2y"&&(x.innerHTML=b),k=y(Ge),D=_(Ge,"INPUT",{class:!0,placeholder:!0}),Ge.forEach(c),S=y(Qe),C=_(Qe,"DIV",{});var Et=m(C);ne(z.$$.fragment,Et),Et.forEach(c),Qe.forEach(c),it.forEach(c),De.forEach(c),ee=y(me),A=_(me,"DIV",{});var Ze=m(A);j.l(Ze),te=y(Ze),P=_(Ze,"HR",{class:!0}),M=y(Ze),ne(K.$$.fragment,Ze),R=y(Ze),Q=_(Ze,"BUTTON",{class:!0});var et=m(Q);B=_(et,"DIV",{class:!0});var Oe=m(B);he=_(Oe,"DIV",{class:!0});var qe=m(he);ne(ve.$$.fragment,qe),qe.forEach(c),pe=y(Oe),ge=_(Oe,"DIV",{class:!0});var vt=m(ge);O=_(vt,"DIV",{class:!0});var ut=m(O);q=Y(ut,H),ut.forEach(c),J=y(vt),_e=_(vt,"DIV",{class:!0});var ze=m(_e);fe=Y(ze,ke),ze.forEach(c),vt.forEach(c),Oe.forEach(c),we=y(et),le=_(et,"DIV",{});var _t=m(le);ne(ce.$$.fragment,_t),_t.forEach(c),et.forEach(c),Ze.forEach(c),this.h()},h(){u(h,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850"),u(g,"class","text-lg font-medium text-gray-500 dark:text-gray-300"),u(f,"class","flex md:self-center text-lg font-medium px-0.5"),u(x,"class","self-center ml-1 mr-3"),u(D,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent"),u(D,"placeholder",G=s[8].t("Search")),u($,"class","flex flex-1"),u(I,"class","flex w-full space-x-2"),u(U,"class","flex gap-1"),u(r,"class","mt-0.5 mb-2 gap-1 flex flex-col md:flex-row justify-between"),u(P,"class","mb-2 border-gray-100 dark:border-gray-850"),u(he,"class","p-1.5 bg-black/5 dark:bg-white/10 rounded-full"),u(O,"class","text-sm font-medium"),u(_e,"class","flex text-xs mt-0.5"),u(ge,"class","text-left"),u(B,"class","flex items-center gap-2.5"),u(Q,"class","flex items-center justify-between rounded-lg w-full transition pt-1")},m(me,De){oe(e,me,De),F(me,l,De),F(me,r,De),n(r,f),n(f,i),n(f,o),n(f,h),n(f,v),n(f,g),n(g,w),n(r,V),n(r,U),n(U,I),n(I,$),n($,x),n($,k),n($,D),Fe(D,s[2]),n(I,S),n(I,C),oe(z,C,null),F(me,ee,De),F(me,A,De),xe[Z].m(A,null),n(A,te),n(A,P),n(A,M),oe(K,A,null),n(A,R),n(A,Q),n(Q,B),n(B,he),oe(ve,he,null),n(B,pe),n(B,ge),n(ge,O),n(O,q),n(ge,J),n(ge,_e),n(_e,fe),n(Q,we),n(Q,le),oe(ce,le,null),Te=!0,Ie||(Ue=[Ee(D,"input",s[14]),Ee(Q,"click",s[19])],Ie=!0)},p(me,De){const be={};!t&&De&64&&(t=!0,be.show=me[6],Se(()=>t=!1)),e.$set(be),(!Te||De&256)&&a!==(a=me[8].t("Groups")+"")&&X(i,a),(!Te||De&2)&&p!==(p=me[1].length+"")&&X(w,p),(!Te||De&256&&G!==(G=me[8].t("Search")))&&u(D,"placeholder",G),De&4&&D.value!==me[2]&&Fe(D,me[2]);const $e={};De&256&&($e.content=me[8].t("Create Group")),De&16777280&&($e.$$scope={dirty:De,ctx:me}),z.$set($e);let it=Z;Z=je(me),Z===it?xe[Z].p(me,De):(Pe(),L(xe[it],1,1,()=>{xe[it]=null}),He(),j=xe[Z],j?j.p(me,De):(j=xe[Z]=Ve[Z](me),j.c()),T(j,1),j.m(A,te));const Qe={};!ue&&De&128&&(ue=!0,Qe.show=me[7],Se(()=>ue=!1)),!de&&De&32&&(de=!0,Qe.permissions=me[5],Se(()=>de=!1)),K.$set(Qe),(!Te||De&256)&&H!==(H=me[8].t("Default permissions")+"")&&X(q,H),(!Te||De&256)&&ke!==(ke=me[8].t('applies to all users with the "user" role')+"")&&X(fe,ke)},i(me){Te||(T(e.$$.fragment,me),T(z.$$.fragment,me),T(j),T(K.$$.fragment,me),T(ve.$$.fragment,me),T(ce.$$.fragment,me),Te=!0)},o(me){L(e.$$.fragment,me),L(z.$$.fragment,me),L(j),L(K.$$.fragment,me),L(ve.$$.fragment,me),L(ce.$$.fragment,me),Te=!1},d(me){me&&(c(l),c(r),c(ee),c(A)),ie(e,me),ie(z),xe[Z].d(),ie(K),ie(ve),ie(ce),Ie=!1,Kt(Ue)}}}function Xa(s){let e,t,l,r,f;return t=new As({props:{className:"size-3.5"}}),{c(){e=d("button"),ae(t.$$.fragment),this.h()},l(a){e=_(a,"BUTTON",{class:!0});var i=m(e);ne(t.$$.fragment,i),i.forEach(c),this.h()},h(){u(e,"class","p-2 rounded-xl hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 transition font-medium text-sm flex items-center space-x-1")},m(a,i){F(a,e,i),oe(t,e,null),l=!0,r||(f=Ee(e,"click",s[15]),r=!0)},p:We,i(a){l||(T(t.$$.fragment,a),l=!0)},o(a){L(t.$$.fragment,a),l=!1},d(a){a&&c(e),ie(t),r=!1,f()}}}function en(s){let e,t,l='<div class="w-full">Group</div> <div class="w-full">Users</div> <div class="w-full"></div>',r,f,a,i,o=ml(s[4]),h=[];for(let g=0;g<o.length;g+=1)h[g]=Cs(Ts(s,o,g));const v=g=>L(h[g],1,1,()=>{h[g]=null});return{c(){e=d("div"),t=d("div"),t.innerHTML=l,r=E(),f=d("hr"),a=E();for(let g=0;g<h.length;g+=1)h[g].c();this.h()},l(g){e=_(g,"DIV",{});var p=m(e);t=_(p,"DIV",{class:!0,"data-svelte-h":!0}),ft(t)!=="svelte-1uwoqvm"&&(t.innerHTML=l),r=y(p),f=_(p,"HR",{class:!0}),a=y(p);for(let w=0;w<h.length;w+=1)h[w].l(p);p.forEach(c),this.h()},h(){u(t,"class","flex items-center gap-3 justify-between text-xs uppercase px-1 font-bold"),u(f,"class","mt-1.5 border-gray-100 dark:border-gray-850")},m(g,p){F(g,e,p),n(e,t),n(e,r),n(e,f),n(e,a);for(let w=0;w<h.length;w+=1)h[w]&&h[w].m(e,null);i=!0},p(g,p){if(p&1041){o=ml(g[4]);let w;for(w=0;w<o.length;w+=1){const V=Ts(g,o,w);h[w]?(h[w].p(V,p),T(h[w],1)):(h[w]=Cs(V),h[w].c(),T(h[w],1),h[w].m(e,null))}for(Pe(),w=o.length;w<h.length;w+=1)v(w);He()}},i(g){if(!i){for(let p=0;p<o.length;p+=1)T(h[p]);i=!0}},o(g){h=h.filter(Boolean);for(let p=0;p<h.length;p+=1)L(h[p]);i=!1},d(g){g&&c(e),ls(h,g)}}}function tn(s){let e,t,l=s[8].t("Organize your users")+"",r,f,a,i=s[8].t("Use groups to group your users and assign permissions.")+"",o,h,v,g,p=s[8].t("Create Group")+"",w,V,U,I;return{c(){e=d("div"),t=d("div"),r=W(l),f=E(),a=d("div"),o=W(i),h=E(),v=d("div"),g=d("button"),w=W(p),this.h()},l($){e=_($,"DIV",{class:!0});var x=m(e);t=_(x,"DIV",{class:!0});var b=m(t);r=Y(b,l),b.forEach(c),f=y(x),a=_(x,"DIV",{class:!0});var k=m(a);o=Y(k,i),k.forEach(c),h=y(x),v=_(x,"DIV",{class:!0});var D=m(v);g=_(D,"BUTTON",{class:!0,"aria-label":!0});var G=m(g);w=Y(G,p),G.forEach(c),D.forEach(c),x.forEach(c),this.h()},h(){u(t,"class","text-xl font-medium"),u(a,"class","mt-1 text-sm dark:text-gray-300"),u(g,"class","px-4 py-1.5 text-sm rounded-full bg-black hover:bg-gray-800 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition font-medium flex items-center space-x-1"),u(g,"aria-label",V=s[8].t("Create Group")),u(v,"class","mt-3"),u(e,"class","flex flex-col items-center justify-center h-40")},m($,x){F($,e,x),n(e,t),n(t,r),n(e,f),n(e,a),n(a,o),n(e,h),n(e,v),n(v,g),n(g,w),U||(I=Ee(g,"click",s[16]),U=!0)},p($,x){x&256&&l!==(l=$[8].t("Organize your users")+"")&&X(r,l),x&256&&i!==(i=$[8].t("Use groups to group your users and assign permissions.")+"")&&X(o,i),x&256&&p!==(p=$[8].t("Create Group")+"")&&X(w,p),x&256&&V!==(V=$[8].t("Create Group"))&&u(g,"aria-label",V)},i:We,o:We,d($){$&&c(e),U=!1,I()}}}function Cs(s){let e,t,l,r;return t=new Ya({props:{group:s[21],users:s[0],setGroups:s[10]}}),{c(){e=d("div"),ae(t.$$.fragment),l=E(),this.h()},l(f){e=_(f,"DIV",{class:!0});var a=m(e);ne(t.$$.fragment,a),l=y(a),a.forEach(c),this.h()},h(){u(e,"class","my-2")},m(f,a){F(f,e,a),oe(t,e,null),n(e,l),r=!0},p(f,a){const i={};a&16&&(i.group=f[21]),a&1&&(i.users=f[0]),t.$set(i)},i(f){r||(T(t.$$.fragment,f),r=!0)},o(f){L(t.$$.fragment,f),r=!1},d(f){f&&c(e),ie(t)}}}function ln(s){let e,t,l=s[3]&&Ns(s);return{c(){l&&l.c(),e=hl()},l(r){l&&l.l(r),e=hl()},m(r,f){l&&l.m(r,f),F(r,e,f),t=!0},p(r,[f]){r[3]?l?(l.p(r,f),f&8&&T(l,1)):(l=Ns(r),l.c(),T(l,1),l.m(e.parentNode,e)):l&&(Pe(),L(l,1,1,()=>{l=null}),He())},i(r){t||(T(l),t=!0)},o(r){L(l),t=!1},d(r){r&&c(e),l&&l.d(r)}}}function sn(s,e,t){let l,r;bt(s,ss,C=>t(20,l=C)),St.extend(Ms);const f=zt("i18n");bt(s,f,C=>t(8,r=C));let a=!1,{users:i=[]}=e,o=[],h,v="",g={workspace:{models:!1,knowledge:!1,prompts:!1,tools:!1},chat:{controls:!0,file_upload:!0,delete:!0,edit:!0,temporary:!0},features:{web_search:!0,image_generation:!0,code_interpreter:!0}},p=!1,w=!1;const V=async()=>{t(1,o=await fs(localStorage.token))},U=async C=>{await rr(localStorage.token,C).catch(ee=>(ot.error(`${ee}`),null))&&(ot.success(r.t("Group created successfully")),t(1,o=await fs(localStorage.token)))},I=async C=>{console.log(C.permissions),await qs(localStorage.token,C.permissions).catch(ee=>(ot.error(`${ee}`),null))&&(ot.success(r.t("Default permissions updated successfully")),t(5,g=await os(localStorage.token)))};Vl(async()=>{(l==null?void 0:l.role)!=="admin"?await Ls("/"):(await V(),t(5,g=await os(localStorage.token))),t(3,a=!0)});function $(C){p=C,t(6,p)}function x(){v=this.value,t(2,v)}const b=()=>{t(6,p=!p)},k=()=>{t(6,p=!0)};function D(C){w=C,t(7,w)}function G(C){g=C,t(5,g)}const S=()=>{t(7,w=!0)};return s.$$set=C=>{"users"in C&&t(0,i=C.users)},s.$$.update=()=>{s.$$.dirty&6&&t(4,h=o.filter(C=>{if(v==="")return!0;{let z=C.name.toLowerCase();const ee=v.toLowerCase();return z.includes(ee)}}))},[i,o,v,a,h,g,p,w,r,f,V,U,I,$,x,b,k,D,G,S]}class rn extends kt{constructor(e){super(),$t(this,e,sn,ln,pt,{users:0})}}function an(s){let e,t;return e=new rn({props:{users:s[1]}}),{c(){ae(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,r){oe(e,l,r),t=!0},p(l,r){const f={};r&2&&(f.users=l[1]),e.$set(f)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){ie(e,l)}}}function nn(s){let e,t;return e=new pa({props:{users:s[1]}}),{c(){ae(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,r){oe(e,l,r),t=!0},p(l,r){const f={};r&2&&(f.users=l[1]),e.$set(f)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){ie(e,l)}}}function on(s){let e,t,l,r,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4"><path d="M8.5 4.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM10.9 12.006c.11.542-.348.994-.9.994H2c-.553 0-1.01-.452-.902-.994a5.002 5.002 0 0 1 9.803 0ZM14.002 12h-1.59a2.556 2.556 0 0 0-.04-.29 6.476 6.476 0 0 0-1.167-2.603 3.002 3.002 0 0 1 3.633 1.911c.18.522-.283.982-.836.982ZM12 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"></path></svg>',a,i,o=s[2].t("Overview")+"",h,v,g,p,w,V='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4"><path d="M8 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM3.156 11.763c.16-.629.44-1.21.813-1.72a2.5 2.5 0 0 0-2.725 1.377c-.136.287.102.58.418.58h1.449c.01-.077.025-.156.045-.237ZM12.847 11.763c.02.08.036.16.046.237h1.446c.316 0 .554-.293.417-.579a2.5 2.5 0 0 0-2.722-1.378c.374.51.653 1.09.813 1.72ZM14 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM3.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM5 13c-.552 0-1.013-.455-.876-.99a4.002 4.002 0 0 1 7.753 0c.136.535-.324.99-.877.99H5Z"></path></svg>',U,I,$=s[2].t("Groups")+"",x,b,k,D,G,S,C,z,ee;const A=[nn,an],Z=[];function j(te,P){return te[0]==="overview"?0:te[0]==="groups"?1:-1}return~(G=j(s))&&(S=Z[G]=A[G](s)),{c(){e=d("div"),t=d("div"),l=d("button"),r=d("div"),r.innerHTML=f,a=E(),i=d("div"),h=W(o),g=E(),p=d("button"),w=d("div"),w.innerHTML=V,U=E(),I=d("div"),x=W($),k=E(),D=d("div"),S&&S.c(),this.h()},l(te){e=_(te,"DIV",{class:!0});var P=m(e);t=_(P,"DIV",{id:!0,class:!0});var M=m(t);l=_(M,"BUTTON",{class:!0});var K=m(l);r=_(K,"DIV",{class:!0,"data-svelte-h":!0}),ft(r)!=="svelte-vvpxme"&&(r.innerHTML=f),a=y(K),i=_(K,"DIV",{class:!0});var ue=m(i);h=Y(ue,o),ue.forEach(c),K.forEach(c),g=y(M),p=_(M,"BUTTON",{class:!0});var de=m(p);w=_(de,"DIV",{class:!0,"data-svelte-h":!0}),ft(w)!=="svelte-161uai9"&&(w.innerHTML=V),U=y(de),I=_(de,"DIV",{class:!0});var R=m(I);x=Y(R,$),R.forEach(c),de.forEach(c),M.forEach(c),k=y(P),D=_(P,"DIV",{class:!0});var Q=m(D);S&&S.l(Q),Q.forEach(c),P.forEach(c),this.h()},h(){u(r,"class","self-center mr-2"),u(i,"class","self-center"),u(l,"class",v="px-0.5 py-1 min-w-fit rounded-lg lg:flex-none flex text-right transition "+(s[0]==="overview"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),u(w,"class","self-center mr-2"),u(I,"class","self-center"),u(p,"class",b="px-0.5 py-1 min-w-fit rounded-lg lg:flex-none flex text-right transition "+(s[0]==="groups"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),u(t,"id","users-tabs-container"),u(t,"class","flex flex-row overflow-x-auto gap-2.5 max-w-full lg:gap-1 lg:flex-col lg:flex-none lg:w-40 dark:text-gray-200 text-sm font-medium text-left scrollbar-none"),u(D,"class","flex-1 mt-1 lg:mt-0 overflow-y-scroll"),u(e,"class","flex flex-col lg:flex-row w-full h-full pb-2 lg:space-x-4")},m(te,P){F(te,e,P),n(e,t),n(t,l),n(l,r),n(l,a),n(l,i),n(i,h),n(t,g),n(t,p),n(p,w),n(p,U),n(p,I),n(I,x),n(e,k),n(e,D),~G&&Z[G].m(D,null),C=!0,z||(ee=[Ee(l,"click",s[4]),Ee(p,"click",s[5])],z=!0)},p(te,[P]){(!C||P&4)&&o!==(o=te[2].t("Overview")+"")&&X(h,o),(!C||P&1&&v!==(v="px-0.5 py-1 min-w-fit rounded-lg lg:flex-none flex text-right transition "+(te[0]==="overview"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&u(l,"class",v),(!C||P&4)&&$!==($=te[2].t("Groups")+"")&&X(x,$),(!C||P&1&&b!==(b="px-0.5 py-1 min-w-fit rounded-lg lg:flex-none flex text-right transition "+(te[0]==="groups"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&u(p,"class",b);let M=G;G=j(te),G===M?~G&&Z[G].p(te,P):(S&&(Pe(),L(Z[M],1,1,()=>{Z[M]=null}),He()),~G?(S=Z[G],S?S.p(te,P):(S=Z[G]=A[G](te),S.c()),T(S,1),S.m(D,null)):S=null)},i(te){C||(T(S),C=!0)},o(te){L(S),C=!1},d(te){te&&c(e),~G&&Z[G].d(),z=!1,Kt(ee)}}}function un(s,e,t){let l,r;bt(s,ss,g=>t(7,l=g));const f=zt("i18n");bt(s,f,g=>t(2,r=g));let a=[],i="overview";const o=async()=>{t(1,a=await _l(localStorage.token))};Vl(async()=>{(l==null?void 0:l.role)!=="admin"?await Ls("/"):t(1,a=await _l(localStorage.token));const g=document.getElementById("users-tabs-container");g&&g.addEventListener("wheel",function(p){p.deltaY!==0&&(g.scrollLeft+=p.deltaY)})});const h=()=>{t(0,i="overview")},v=()=>{t(0,i="groups")};return s.$$.update=()=>{s.$$.dirty&1&&i&&o()},[i,a,r,f,h,v]}class fn extends kt{constructor(e){super(),$t(this,e,un,on,pt,{})}}function cn(s){let e,t;return e=new fn({}),{c(){ae(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,r){oe(e,l,r),t=!0},p:We,i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){L(e.$$.fragment,l),t=!1},d(l){ie(e,l)}}}class On extends kt{constructor(e){super(),$t(this,e,null,cn,pt,{})}}export{On as component};
//# sourceMappingURL=14.DHzowE85.js.map
